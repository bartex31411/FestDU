### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}
### search_filters = {FOCUS_FILTER_PROPAGANDA}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
# Reminder that focus filters prio has to be handled in the generic focus file :)

focus_tree = {
	id = soviet_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SOV
		}
	}
	
	default = no

	continuous_focus_position = { x = 6500 y = 100 }


##    ##  #######      ######  ######## ######## ########     ########     ###     ######  ##    ## 
###   ## ##     ##    ##    ##    ##    ##       ##     ##    ##     ##   ## ##   ##    ## ##   ##  
####  ## ##     ##    ##          ##    ##       ##     ##    ##     ##  ##   ##  ##       ##  ##   
## ## ## ##     ##     ######     ##    ######   ########     ########  ##     ## ##       #####    
##  #### ##     ##          ##    ##    ##       ##           ##     ## ######### ##       ##  ##   
##   ### ##     ##    ##    ##    ##    ##       ##           ##     ## ##     ## ##    ## ##   ##  
##    ##  #######      ######     ##    ######## ##           ########  ##     ##  ######  ##    ## 



 ######  #### ##     ## #### ##       ####    ###    ##    ##    #### ##    ## ########  ##     ##  ######  ######## ########  ##    ## 
##    ##  ##  ##     ##  ##  ##        ##    ## ##   ###   ##     ##  ###   ## ##     ## ##     ## ##    ##    ##    ##     ##  ##  ##  
##        ##  ##     ##  ##  ##        ##   ##   ##  ####  ##     ##  ####  ## ##     ## ##     ## ##          ##    ##     ##   ####   
##        ##  ##     ##  ##  ##        ##  ##     ## ## ## ##     ##  ## ## ## ##     ## ##     ##  ######     ##    ########     ##    
##        ##   ##   ##   ##  ##        ##  ######### ##  ####     ##  ##  #### ##     ## ##     ##       ##    ##    ##   ##      ##    
##    ##  ##    ## ##    ##  ##        ##  ##     ## ##   ###     ##  ##   ### ##     ## ##     ## ##    ##    ##    ##    ##     ##    
 ######  ####    ###    #### ######## #### ##     ## ##    ##    #### ##    ## ########   #######   ######     ##    ##     ##    ##    


	focus = {
		id = SOV_infrastructure_effort_nsb

		icon = GFX_goal_generic_construction
		x = 1
		y = 0
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_completed_focus = SOV_the_path_of_marxism_leninism
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 2
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_infrastructure_effort_3Inf }
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = { #TODO_Manu: This is just copy-pasted from the old focus -> Is this what we want?
		219 = {
			add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes						
					}
		}
		195 = {
			add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes						
					}
		}
		217 = {
			add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes						
					}
		}
		223 = {
			add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes						
					}
		}
		}
	}

	focus = {
		id = SOV_heavy_industry

		icon = GFX_goal_generic_construct_civ_factory
		x = 2
		y = 0
		relative_position_id = SOV_infrastructure_effort_nsb
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_completed_focus = SOV_the_path_of_marxism_leninism
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		complete_tooltip = {
			every_state = {
				limit = { 
					has_state_flag = SOV_finish_five_year_plan_2IC 
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = { #TODO_Manu: This is just copy-pasted from the old focus -> Is this what we want?
			IF = {
				limit = {
					any_owned_state = {
						is_controlled_by = ROOT 
						industrial_complex > 0
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						NOT = { has_state_flag = SOV_finish_five_year_plan_2IC }
					}
				}
				random_owned_controlled_state = {
					limit = {
						industrial_complex > 0
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_finish_five_year_plan_2IC
				}
			}
			ELSE = {
				random_owned_controlled_state = {
					limit = {
						# industrial_complex > 0
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_finish_five_year_plan_2IC
				}
			}
			IF = {
				limit = {
					check_variable = { num_owned_states > 1}
					any_owned_state = {
						is_controlled_by = ROOT 
						industrial_complex > 0
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						NOT = { has_state_flag = SOV_finish_five_year_plan_2IC }
					}
				}
				random_owned_controlled_state = {
					limit = {
						industrial_complex > 0
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						NOT = { has_state_flag = SOV_finish_five_year_plan_2IC }
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_finish_five_year_plan_2IC
				}
			}
			ELSE_IF = {
				limit = {
					check_variable = { num_owned_states > 1 }
				}
				random_owned_controlled_state = {
					limit = {
						# industrial_complex > 0
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						NOT = { has_state_flag = SOV_finish_five_year_plan_2IC }
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_finish_five_year_plan_2IC
				}
			}
		}
	}

	focus = {
		id = SOV_finish_the_five_year_plan

		icon = GFX_focus_generic_modernize_industry
		prerequisite = { focus = SOV_infrastructure_effort_nsb }
		prerequisite = { focus = SOV_heavy_industry }
		x = 1
		y = 1
		relative_position_id = SOV_infrastructure_effort_nsb
		cost = 5

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_fyp_controlled_factories_tier_1_tt
				NOT = { num_of_controlled_factories < SOV_fyp_factory_requirement_tier_1 }
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_finish_five_year_plan_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = { #TODO_Manu: This is just copy-pasted from the old focus -> Is this what we want?
			random_owned_controlled_state = {
				limit = {
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = SOV_finish_five_year_plan_2IC
			}
			random_owned_controlled_state = {
				limit = {
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = SOV_finish_five_year_plan_2IC
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_lazar_kaganovich
		}
	}

	focus = {
		id = SOV_improve_railway_network

		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SOV_finish_the_five_year_plan }
		x = -2
		y = 1
		relative_position_id = SOV_finish_the_five_year_plan
		cost = 2

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			# Moscow - Rostov on Don
			build_railway = {
				path = { 9330 3356 6279 6230 6398 6341 413 3527 11475 11412 6591 3540 3519 11459 11450 11434 9417 }
			}
			# Stalingrad-Rostov on Don
			build_railway = {
				path = { 3529 9504 533 9516 509 500 11459 } #(Stalingrad - Conjunction near Millerovo)
			}
			# Stalingrad-Mikhaylovka 
			build_railway = {
				path = { 9504 3582 9436 11485 3539 9564 11408 } #(Conjunction right next to Stalingrad - Conjunction in West Saratov)
			}
			# Stalingrad - Astrakhan
			build_railway = {
				path = { 3529 11474 520 6516 6486 9455 11429 6620 9753 }
			}
			# Tbilisi - Yerevan
			build_railway = {
				path = { 1599 9702 12441 3564 12320 }
			}

			#Supply Hub in Yerevan
			230 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 12320
					instant_build = yes
				}
			}
			#Supply Hub in Kandalaksha
			213 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 6181
					instant_build = yes
				}
			}

			custom_effect_tooltip = available_designer
			show_ideas_tooltip = SOV_soviet_railways
		}
	}

	focus = {
		id = SOV_third_five_year_plan

		icon = GFX_focus_generic_communist_industry
		prerequisite = { focus = SOV_finish_the_five_year_plan }
		x = 0
		y = 1
		relative_position_id = SOV_finish_the_five_year_plan
		cost = 10

		available = {
			SOV_third_five_year_plan_available = yes
			custom_trigger_tooltip = {
				tooltip = SOV_fyp_controlled_factories_tier_2_tt
				NOT = { num_of_controlled_factories < SOV_fyp_factory_requirement_tier_2 }
			}
			
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			hidden_effect = {
				add_to_variable = { SOV_fyp_production_factory_efficiency_gain_factor = 0.05 }
				add_to_variable = { SOV_fyp_consumer_goods_factor = 0.2 }
			}
			if = {
				limit = {
					has_government = communism
				}
				hidden_effect = {
					#Swap dynamic modifier to change icon
					remove_dynamic_modifier = { modifier = SOV_second_five_year_plan_dynamic_modifier }
					add_dynamic_modifier = { modifier = SOV_third_five_year_plan_dynamic_modifier }
				}
				custom_effect_tooltip = TZAR_SOV_third_five_year_plan_ns_tt

				add_tech_bonus = {
					name = SOV_third_five_year_plan_default
					bonus = 0.75
					uses = 2
					category = construction_tech
				}
			}
			else = {
				custom_effect_tooltip = SOV_third_five_year_plan_ns_alt_tt
				hidden_effect = {
					#Swap dynamic modifier to change icon
					remove_dynamic_modifier = { modifier = SOV_second_five_year_plan_dynamic_modifier }
					add_dynamic_modifier = { modifier = SOV_third_five_year_plan_dynamic_modifier_alt }
				}

				add_tech_bonus = {
					name = SOV_third_five_year_plan_alt
					bonus = 0.75
					uses = 2
					category = construction_tech
				}
			}
		}
	}

	focus = {
		id = SOV_reorganize_the_pc_of_heavy_industry

		icon = GFX_goal_generic_production2
		prerequisite = { focus = SOV_third_five_year_plan }
		x = -2
		y = 2
		relative_position_id = SOV_third_five_year_plan
		cost = 5

		mutually_exclusive = { focus = SOV_shift_to_armaments_production }

		available = {
			SOV_third_five_year_plan_available = yes
			
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			hidden_effect = {
				add_to_variable = { SOV_fyp_consumer_goods_factor = -0.2 }
			}
			custom_effect_tooltip = SOV_reorganize_the_pc_of_heavy_industry_ns_tt
			if = {
				limit = {
					has_government = communism
				}
				hidden_effect = {
					#Swap dynamic modifier to change icon
					remove_dynamic_modifier = { modifier = SOV_third_five_year_plan_dynamic_modifier }
					add_dynamic_modifier = { modifier = SOV_third_five_year_plan_civilian_dynamic_modifier }
				}

				add_tech_bonus = {
					name = SOV_reorganize_the_pc_of_heavy_industry_name_default
					bonus = 1.0
					uses = 2
					category = industry
					category = electronics
				}
			}
			else = {
				hidden_effect = {
					#Swap dynamic modifier to change icon
					remove_dynamic_modifier = { modifier = SOV_third_five_year_plan_dynamic_modifier_alt}
					add_dynamic_modifier = { modifier = SOV_third_five_year_plan_civilian_dynamic_modifier_alt }
				}

				add_tech_bonus = {
					name = SOV_reorganize_the_pc_of_heavy_industry_name_alt
					bonus = 1.0
					uses = 3
					category = industry
					category = electronics
				}
			}
		}
	}

	focus = {
		id = SOV_industrial_modernization

		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = SOV_reorganize_the_pc_of_heavy_industry }
		x = 0
		y = 3
		relative_position_id = SOV_reorganize_the_pc_of_heavy_industry
		cost = 5

		available = {
			SOV_third_five_year_plan_available = yes

			
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { SOV_fyp_production_factory_max_efficiency_factor = 0.05 }
			add_to_variable = { SOV_fyp_line_change_production_efficiency_factor = 0.1 }
			custom_effect_tooltip = SOV_industrial_modernization_ns_tt
		}
	}

	focus = {
		id = SOV_increase_state_reserves

		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SOV_third_five_year_plan }
		x = 0
		y = 1
		relative_position_id = SOV_third_five_year_plan
		cost = 5

		available = {
			SOV_third_five_year_plan_available = yes
			
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			#Modify Third Year Plan NS
			set_variable = { SOV_fyp_local_resources_factor = 0.1 }
			custom_effect_tooltip = SOV_increase_state_reserves_ns_tt

			custom_effect_tooltip = SOV_increase_state_reserves_silo_tt
			set_temp_variable = { temp_targets_index = 0 }
			
							add_resource = {
					type = steel
					amount = 23
					state = 252
				}
				add_resource = {
					type = steel
					amount = 12
					state = 250
				}
				add_resource = {
					type = aluminium
					amount = 25
					state = 256
				}
				add_resource = {
					type = steel
					amount = 27
					state = 247
				}
				add_resource = {
					type = steel
					amount = 16
					state = 248
				}
				add_resource = {
					type = aluminium
					amount = 21
					state = 253
				}
				add_resource = {
					type = chromium
					amount = 34
					state = 573
				}
				add_resource = {
					type = tungsten
					amount = 30
					state = 398
				}

		}
	}

	focus = {
		id = SOV_shift_to_armaments_production

		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = SOV_third_five_year_plan }
		x = 2
		y = 2
		relative_position_id = SOV_third_five_year_plan
		cost = 5

		mutually_exclusive = { focus = SOV_reorganize_the_pc_of_heavy_industry}

		available = {
			SOV_third_five_year_plan_available = yes
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
					name = SOV_reorganize_the_pc_of_heavy_industry_name_default
					bonus = 1.0
					uses = 1
					category = industry
					category = electronics
				}
			hidden_effect = {
				set_variable = { SOV_fyp_production_speed_industrial_complex_factor = 0 } #Remove Civ constr speed
			}
			if = {
				limit = {
					has_government = communism
				}
				hidden_effect = {
					#Swap dynamic modifier to change icon
					remove_dynamic_modifier = { modifier = SOV_third_five_year_plan_dynamic_modifier }
					add_dynamic_modifier = { modifier = SOV_third_five_year_plan_military_dynamic_modifier }
				}
			}
			else = {
				hidden_effect = {
					#Swap dynamic modifier to change icon
					remove_dynamic_modifier = { modifier = SOV_third_five_year_plan_dynamic_modifier_alt }
					add_dynamic_modifier = { modifier = SOV_third_five_year_plan_military_dynamic_modifier_alt }
				}
			}
			custom_effect_tooltip = TZAR_SOV_shift_to_armaments_production_ns_tt

			add_tech_bonus = {
				name = SOV_shift_to_armaments_production
				bonus = 1.0
				uses = 2
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = SOV_optimize_production_lines

		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = SOV_shift_to_armaments_production }
		x = 0
		y = 3
		relative_position_id = SOV_shift_to_armaments_production
		cost = 5

		available = {
			SOV_third_five_year_plan_available = yes
			
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { SOV_fyp_production_factory_efficiency_gain_factor = 0.05 } #Add efficiency gain
			add_to_variable = { SOV_fyp_production_factory_start_efficiency_factor = 0.05 } #Add efficiency start
			add_to_variable = { SOV_fyp_industrial_capacity_factory = 0.02 } #Add small output bonus
			custom_effect_tooltip = SOV_optimize_production_lines_ns_tt

			add_tech_bonus = {
				name = SOV_industrial_modernization
				ahead_reduction = 2
				bonus = 1
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = SOV_steel_casting_industry

		icon = GFX_focus_generic_steel
		prerequisite = { focus = SOV_reorganize_the_pc_of_heavy_industry focus = SOV_shift_to_armaments_production }
		x = 2
		y = 1
		relative_position_id = SOV_reorganize_the_pc_of_heavy_industry
		cost = 5

		available = {
			any_owned_state = {
				has_resources_amount = {
					resource = steel
					amount > 0
				}
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
			}
			SOV_third_five_year_plan_available = yes
			
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			set_variable = { SOV_fyp_industrial_capacity_factory = 0.05 }
			set_variable = { SOV_fyp_industrial_capacity_dockyard = 0.05 }

			custom_effect_tooltip = SOV_steel_casting_industry_ns_tt

			random_owned_controlled_state = {
				limit = {
					has_resources_amount = {
						resource = steel
						amount > 0
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 5
				}
				set_state_flag = SOV_steel_casting_industry_flag
			}
			if = {
				limit = {
					any_owned_state = {
						has_resources_amount = {
							resource = steel
							amount > 0
						}
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
						NOT = {	has_state_flag = SOV_steel_casting_industry_flag }
					}
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = steel
							amount > 0
						}
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						NOT = {	has_state_flag = SOV_steel_casting_industry_flag }
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_resource = {
						type = steel
						amount = 5
					}
					set_state_flag = SOV_steel_casting_industry_flag
				}
			}
		}
	}

	focus = {
		id = SOV_synthetic_rubber

		icon = GFX_focus_generic_rubber
		prerequisite = { focus = SOV_steel_casting_industry }
		x = -1
		y = 1
		relative_position_id = SOV_steel_casting_industry
		cost = 5

		available = {
			SOV_third_five_year_plan_available = yes
			
			has_full_control_of_state = 219 #MOSCOW
			OR = {
				has_full_control_of_state = 260 #VORONEZH
				has_full_control_of_state = 223 #TULA
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
				572 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = synthetic_refinery
						level = 3
						instant_build = yes
					}
				}
				add_ideas = sov_refinery_effort
				add_tech_bonus = {
					name = SOV_coal_liquidization
					bonus = 1.5
					uses = 3
					category = synth_resources
				}
				modify_building_resources = {
					building = synthetic_refinery
					resource = rubber
					amount = 2
				}

				if = {
					limit = {
						has_full_control_of_state = 260 #VORONEZH
					}
					260 = { #VORONEZH
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
					if = {
						limit = {
							has_full_control_of_state = 254 #RYAZAN
							has_full_control_of_state = 258 #LIPETSK
						}
						# Moscow - Voronezh
						build_railway = {
							path = { 6380 10789 6414 9348 9282 11268 9330 3356 6279 6230 6398 6341 413 3527 }
						}
					}
				}
				if = {
					limit = {
						has_full_control_of_state = 223 #TULA
					}
					223 = { #TULA
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
					# Moscow - Tula
					build_railway = {
						path = { 6380 10789 6414 9348 6290 6396 6262 }
					}
				}
			}
	}

	focus = {
		id = SOV_oil_production

		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = SOV_steel_casting_industry }
		x = 1
		y = 1
		relative_position_id = SOV_steel_casting_industry
		cost = 5

		available = {
			SOV_third_five_year_plan_available = yes
			
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
				set_variable = { SOV_fyp_fuel_gain_factor_from_states = 0.05 }
				set_variable = { SOV_fyp_production_oil_factor = 0.05 }
				custom_effect_tooltip = SOV_oil_production_ns_tt
				229 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = synthetic_refinery
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 6
						instant_build = yes
					}
					add_resource = {
						type = oil
						amount = 35
						state = 229
					}
				}	
			

				if = {
					limit = {
						has_full_control_of_state = 229 #BAKU
						has_full_control_of_state = 230 #ARMENIA
						has_full_control_of_state = 231 #GEORGIA
					}
					# Baku - Tbilisi
					build_railway = {
						path = { 7661 1536 4614 4477 11645 11674 1539 11708 1599 }
					}
				}
				if = {
					limit = {
						has_full_control_of_state = 232 #DAGESTAN
						#has_full_control_of_state = 821 #CHECHNYA-INGUSHETIA
					}
					# Makhachkala (Hub province) - Grozny
					build_railway = {
						path = { 3668 3682 3672 }
					}
				}
			}
	}


	focus = {
		id = SOV_national_specialists

		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SOV_finish_the_five_year_plan }
		x = 3
		y = 1
		relative_position_id = SOV_finish_the_five_year_plan
		cost = 3

		mutually_exclusive = { focus = SOV_foreign_experts }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = SOV_national_specialists_tt

			SOV_replace_industrial_designer = yes #"National" Industrial Designers get +5% research bonus
			hidden_effect = {
				add_ideas = SOV_national_specialists_ns
			}
			add_ideas = SOV_mill_buff
			
		}
	}

	focus = {
		id = SOV_foreign_experts

		icon = GFX_focus_spa_the_spanish_miracle
		prerequisite = { focus = SOV_finish_the_five_year_plan }
		x = 2
		y = 0
		relative_position_id = SOV_national_specialists
		cost = 10

		mutually_exclusive = { focus = SOV_national_specialists }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = SOV_gosproyektstroy_1
		}
	}

	focus = {
		id = SOV_eastern_development

		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = SOV_national_specialists focus = SOV_foreign_experts }
		x = 0
		y = 1
		relative_position_id = SOV_national_specialists
		cost = 5

		bypass = {
			408 = { #VLADIVOSTOK
				is_fully_controlled_by = ROOT
				NOT = {
					infrastructure < 5
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
			}
			409 = { #KHABAROVSK
				is_fully_controlled_by = ROOT
				is_fully_controlled_by = ROOT
				NOT = {
					infrastructure < 5
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
			}
			566 = { #IRKUTSK
				is_fully_controlled_by = ROOT
				is_fully_controlled_by = ROOT
				NOT = {
					infrastructure < 5
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
			}
			564 = { #ULAN UDE
				is_fully_controlled_by = ROOT
				is_fully_controlled_by = ROOT
				NOT = {
					infrastructure < 5
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
			}
		}

		available = {
			OR = {
				408 = { #VLADIVOSTOK
					is_fully_controlled_by = ROOT
				}
				409 = { #KHABAROVSK
					is_fully_controlled_by = ROOT
				}
				566 = { #IRKUTSK
					is_fully_controlled_by = ROOT
				}
				564 = { #ULAN UDE
					is_fully_controlled_by = ROOT
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			set_temp_variable = { SOV_states_targeted_eastern_development = 0 } #Used this way to prioritize between desirable states
			if = {
				limit = {
					408 = { #VLADIVOSTOK
						is_fully_controlled_by = ROOT
						infrastructure < 5
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				408 = { #VLADIVOSTOK
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				add_to_temp_variable = { SOV_states_targeted_eastern_development = 1 }
			}
			else_if = { #Irkutsk replaces Vladivostok if necessary
				limit = {
					check_variable = { SOV_states_targeted_eastern_development = 2 compare = less_than_or_equals }
					566 = { #IRKUTSK
						is_fully_controlled_by = ROOT
						infrastructure < 5
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				566 = { #IRKUTSK
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					409 = { #KHABAROVSK
						is_fully_controlled_by = ROOT
						infrastructure < 5
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				409 = { #KHABAROVSK
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				add_to_temp_variable = { SOV_states_targeted_eastern_development = 1 }
			}
			else_if = { #Ulan Ude replaces Khabarovsk if necessary
				limit = {
					check_variable = { SOV_states_targeted_eastern_development = 2 compare = less_than_or_equals }
					564 = { #ULAN UDE
						is_fully_controlled_by = ROOT
						infrastructure < 5
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				564 = { #ULAN UDE
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_develop_the_urals

		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = SOV_national_specialists focus = SOV_foreign_experts }
		x = 2
		y = 0
		relative_position_id = SOV_eastern_development
		cost = 5

		bypass = {
			572 = { #CHELYABISNK
				is_fully_controlled_by = ROOT
				NOT = {
					infrastructure < 5
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
			}
			573 = { #ZLATOUST
				is_fully_controlled_by = ROOT
				is_fully_controlled_by = ROOT
				NOT = {
					infrastructure < 5
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
			}
			582 = { #MAGNITOGORSK
				is_fully_controlled_by = ROOT
				is_fully_controlled_by = ROOT
				NOT = {
					infrastructure < 5
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
			}
			653 = { #SVERDLOVSK
				is_fully_controlled_by = ROOT
				is_fully_controlled_by = ROOT
				NOT = {
					infrastructure < 5
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
			}
		}

		available = {
			OR = {
				572 = { #CHELYABISNK
					is_fully_controlled_by = ROOT
				}
				573 = { #ZLATOUST
					is_fully_controlled_by = ROOT
				}
				582 = { #MAGNITOGORSK
					is_fully_controlled_by = ROOT
				}
				653 = { #SVERDLOVSK
					is_fully_controlled_by = ROOT
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
				582 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
					instant_build = yes }
				}
				572 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
					instant_build = yes }
				}	
				653 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
					instant_build = yes }
				}
				582 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
					instant_build = yes }
				}
			}
	}

	focus = {
		id = SOV_the_ussr_academy_of_sciences

		icon = GFX_focus_research
		prerequisite = { focus = SOV_eastern_development }
		prerequisite = { focus = SOV_develop_the_urals }
		x = 1
		y = 1
		relative_position_id = SOV_eastern_development
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_research_slot = 1
		}
	}





   ###    #### ########   ######  ########     ###    ######## ######## 
  ## ##    ##  ##     ## ##    ## ##     ##   ## ##   ##          ##    
 ##   ##   ##  ##     ## ##       ##     ##  ##   ##  ##          ##    
##     ##  ##  ########  ##       ########  ##     ## ######      ##    
#########  ##  ##   ##   ##       ##   ##   ######### ##          ##    
##     ##  ##  ##    ##  ##    ## ##    ##  ##     ## ##          ##    
##     ## #### ##     ##  ######  ##     ## ##     ## ##          ##    



	focus = {
		id = SOV_transpolar_flights

		icon = GFX_goal_generic_air_fighter2
		x = 10
		y = 0
		relative_position_id = SOV_infrastructure_effort_nsb
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_completed_focus = SOV_the_path_of_marxism_leninism
		}
		
		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 50
			add_tech_bonus = {
						name = SOV_fighter_effort
						bonus = 1.5
						uses = 1
						category = light_fighter
					}
		}
	}

	focus = {
		id = SOV_expand_the_aircraft_industry

		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SOV_transpolar_flights }
		x = -1
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 5

		available = {
			any_owned_state = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			set_variable = { SOV_soviet_airforce_aircraft_manufacturer_cost_factor = -0.25 }
			custom_effect_tooltip = SOV_expand_the_aircraft_industry_ns_tt
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				if = {
					limit = {
						air_base < 9
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				else = {
					ROOT = {
						random_owned_controlled_state = {
							limit = {
								air_base < 9
							}
							add_building_construction = {
								type = air_base
								level = 2
								instant_build = yes
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = SOV_modernize_aircraft_facilities

		icon = GFX_goal_generic_air_production
		prerequisite = { focus = SOV_expand_the_aircraft_industry }
		x = -1
		y = 1
		relative_position_id = SOV_expand_the_aircraft_industry
		cost = 5

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			add_to_variable = { SOV_soviet_airforce_air_fuel_consumption_factor = -0.05 }
			add_to_variable = { SOV_soviet_airforce_air_range_factor = 0.05 }
			add_to_variable = { SOV_soviet_airforce_air_agility_factor = 0.05 }
			custom_effect_tooltip = SOV_modernize_aircraft_facilities_ns_tt
		}
	}

	focus = {
		id = SOV_merge_aircraft_plants

		icon = GFX_focus_SOV_merge_plants
		prerequisite = { focus = SOV_modernize_aircraft_facilities }
		x = -1
		y = 2
		relative_position_id = SOV_modernize_aircraft_facilities
		cost = 5

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			custom_effect_tooltip = SOV_merge_aircraft_plants_tt
		}
	}

	focus = {
		id = SOV_found_the_jet_institute

		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = SOV_the_ussr_academy_of_sciences }
		prerequisite = { focus = SOV_merge_aircraft_plants }
		x = -1
		y = 1
		relative_position_id = SOV_merge_aircraft_plants
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_found_the_jet_institute
				bonus = 1.0
				uses = 2
				category = jet_technology
			}
		}
	}

	focus = {
		id = SOV_increase_aircraft_production

		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = SOV_expand_the_aircraft_industry }
		x = -1
		y = 2
		relative_position_id = SOV_expand_the_aircraft_industry
		cost = 5

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			hidden_effect = {
				#This handles the equipment bonus that's not supported by dynamic modifiers
				add_ideas = SOV_increased_aircraft_production_ns_bonus
				add_to_variable = { SOV_soviet_airforce_air_accidents_factor = 0.05 }
			}

			hidden_effect = {
				if = { #DEFAULT COMMIE
					limit = {
						has_government = communism
					}
					#Swap dynamic modifiers to show the bonus equipment custom tooltip
					remove_dynamic_modifier = { modifier = SOV_soviet_airforce_dynamic_modifier }
					add_dynamic_modifier = { modifier = SOV_soviet_airforce_aircraft_production_focus_dynamic_modifier }
				}
				else = { #ALT IDEOLOGY
					#Swap dynamic modifiers to show the bonus equipment custom tooltip
					remove_dynamic_modifier = { modifier = SOV_soviet_airforce_dynamic_modifier_alt }
					add_dynamic_modifier = { modifier = SOV_soviet_airforce_aircraft_production_focus_dynamic_modifier_alt }
				}
			}
			
			custom_effect_tooltip = SOV_increase_aircraft_production_ns_tt
		}
	}

	focus = {
		id = SOV_foster_flying_clubs

		icon = GFX_focus_SOV_flying_clubs
		prerequisite = { focus = SOV_transpolar_flights }
		x = 1
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 3

		available = {

		}
		
		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { SOV_soviet_airforce_air_accidents_factor = -0.25 }
			add_to_variable = { SOV_soviet_airforce_air_ace_generation_chance_factor = 0.25 }
			add_to_variable = { SOV_soviet_airforce_air_weather_penalty = -0.1 }
			add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.1 }
			custom_effect_tooltip = SOV_foster_flying_clubs_ns_tt

			air_experience = 25
		}
	}

	focus = {
		id = SOV_women_in_aviation

		icon = GFX_focus_SOV_women_in_aviation
		prerequisite = { focus = SOV_foster_flying_clubs }
		x = 1
		y = 1
		relative_position_id = SOV_foster_flying_clubs
		cost = 1

		available = {
			OR = {
				has_completed_focus = SOV_the_path_of_marxism_leninism
				has_completed_focus = SOV_womens_fascist_movement
			}
		}
		
		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { SOV_soviet_airforce_air_ace_generation_chance_factor = 0.25 }
			add_to_variable = { SOV_soviet_airforce_air_weather_penalty = -0.05 }
			add_to_variable = { SOV_soviet_airforce_air_mission_xp_gain_factor = 0.05 }
			add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.05 }
			custom_effect_tooltip = SOV_women_in_aviation_ns_tt

			air_experience = 25
			set_rule = {
				can_generate_female_aces = yes
			}
		}
	}

	focus = {
		id = SOV_raskovas_aviation_group

		icon = GFX_goal_generic_CAS
		prerequisite = { focus = SOV_expand_aviation_institutes}
		x = 0
		y = 1
		relative_position_id = SOV_expand_aviation_institutes
		cost = 5

		available = {
			any_enemy_country = {
				SOV_is_major_not_original_sov = yes
			}
			has_full_control_of_state = 219 #MOSCOW
		}
		
		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { SOV_soviet_airforce_air_night_penalty = -0.2 }
			add_to_variable = { SOV_soviet_airforce_air_wing_xp_loss_when_killed_factor = -0.1 }
			set_variable = { SOV_soviet_airforce_air_strategic_bomber_night_penalty = -0.1 }
			custom_effect_tooltip = SOV_raskovas_aviation_group_ns_tt

			custom_effect_tooltip = SOV_night_witches_nsb_tt
			hidden_effect = {
				if = {
					limit = {
						has_dlc = "By Blood Alone"
					}
					create_equipment_variant = {
						name = "U-2" #
						type = small_plane_cas_airframe_0
						modules = {
							fixed_main_weapon_slot = bomb_locks
							fixed_auxiliary_weapon_slot_1 = empty
							engine_type_slot = engine_1_1x
							special_type_slot_1 = non_strategic_materials_small
						}
					}
					create_equipment_variant = {
						name = "Pe-2" #
						type = small_plane_cas_airframe_2
						allow_without_tech = yes
						modules = {
							fixed_main_weapon_slot = small_bomb_bay
							fixed_auxiliary_weapon_slot_1 = light_mg_2x
							engine_type_slot = engine_2_2x
							special_type_slot_1 = lmg_defense_turret
							special_type_slot_2 = dive_brakes_small
						}
					}
					create_equipment_variant = {
						name = "Yak-1" #
						type = small_plane_airframe_1
						modules = {
							fixed_main_weapon_slot = aircraft_cannon_1_1x
							fixed_auxiliary_weapon_slot_1 = heavy_mg_2x
							engine_type_slot = engine_2_1x
							special_type_slot_1 = non_strategic_materials_small
						}
					}
					if = {
						limit = {
							NOT = { has_government = communism }
						}
						
						load_oob = "SOV_night_witches_nsb_alt_bba"
						else = {
							load_oob = "SOV_night_witches_nsb_bba" #nested here because otherwise it is considered a nested else for the higher level if
						}
					}
				}
				else_if = { #ALT IDEOLOGY
					limit = {
						NOT = { has_government = communism }
					}
					load_oob = "SOV_night_witches_nsb_alt"
				}
				else = { #DEFAULT COMMUNISM
					load_oob = "SOV_night_witches_nsb"
				}
			}
		}
	}


	focus = {
		id = SOV_expand_aviation_institutes

		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = SOV_expand_the_aircraft_industry focus = SOV_foster_flying_clubs }
		x = 1
		y = 1
		relative_position_id = SOV_expand_the_aircraft_industry
		cost = 2

		available = {

		}
		
		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { SOV_soviet_airforce_air_accidents_factor = -0.25 }
			add_to_variable = { SOV_soviet_airforce_air_weather_penalty = -0.1 }
			add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.05 }
			add_to_variable = { SOV_soviet_airforce_air_wing_xp_loss_when_killed_factor = -0.15 }
			custom_effect_tooltip = SOV_expand_aviation_institutes_ns_tt
		}
	}


##     ## #### ##       #### ########    ###    ########  ##    ## 
###   ###  ##  ##        ##     ##      ## ##   ##     ##  ##  ##  
#### ####  ##  ##        ##     ##     ##   ##  ##     ##   ####   
## ### ##  ##  ##        ##     ##    ##     ## ########     ##    
##     ##  ##  ##        ##     ##    ######### ##   ##      ##    
##     ##  ##  ##        ##     ##    ##     ## ##    ##     ##    
##     ## #### ######## ####    ##    ##     ## ##     ##    ##    



	focus = {
		id = SOV_found_the_pcdi

		icon = GFX_goal_generic_defence
		x = 21
		y = 0
		relative_position_id = SOV_expand_the_red_fleet
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_completed_focus = SOV_the_path_of_marxism_leninism
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			hidden_effect = {
				add_dynamic_modifier = { modifier = SOV_defense_industry_dynamic_modifier }
			}
			custom_effect_tooltip = SOV_found_the_pcdi_ns_tt
		}
	}

	focus = {
		id = SOV_pc_of_mechanical_engineering

		icon = GFX_goal_generic_production2
		prerequisite = { focus = SOV_found_the_pcdi }
		x = -5
		y = 1
		relative_position_id = SOV_found_the_pcdi
		cost = 5

		available = {
			date>1938.1.1
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { SOV_defense_industry_production_factory_max_efficiency_factor = 0.05 }
			add_to_variable = { SOV_defense_industry_production_factory_efficiency_gain_factor = -0.05 }
			custom_effect_tooltip = SOV_pc_of_mechanical_engineering_ns_tt

			if = { #DEFAULT COMMIE
				limit = {
					has_government = communism
				}
				add_tech_bonus = {
					name = SOV_pc_of_mechanical_engineering_name_default
					bonus = 1
					uses = 2
					category = motorized_equipment
					category = infantry_weapons
				}
			}
			else = { #ALT IDEOLOGY
				add_tech_bonus = {
					name = SOV_pc_of_mechanical_engineering_name_alt
					bonus = 1
					uses = 2
					category = motorized_equipment
					category = infantry_weapons
				}
			}
			
			219 = {
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_superior_war_machines

		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = SOV_pc_of_mechanical_engineering }
		x = -1
		y = 1
		relative_position_id = SOV_pc_of_mechanical_engineering
		cost = 5

		available = {
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			set_variable = { SOV_defense_industry_tank_manufacturer_cost_factor = -0.25 }
			custom_effect_tooltip = SOV_superior_war_machines_ns_tt

			add_tech_bonus = {
				name = SOV_superior_war_machines
				bonus = 1.5
				uses = 2
				category = armor
			}
			
			add_tech_bonus = {
					name = GER_soviet_treaty
					bonus = 1.5
					uses = 2
					technology = shit_guns
					technology = medium_guns2
					technology = medium_guns3
					technology = heavy_guns3
					technology = heavy_guns2
					}
		}
	}

	focus = {
		id = SOV_the_means_to_wage_war

		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_pc_of_mechanical_engineering }
		x = 1
		y = 1
		relative_position_id = SOV_pc_of_mechanical_engineering
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			set_variable = { SOV_defense_industry_materiel_manufacturer_cost_factor = -0.25 }
			custom_effect_tooltip = SOV_the_means_to_wage_war_ns_tt

			add_tech_bonus = {
				name = SOV_the_means_to_wage_war
				bonus = 0.75
				uses = 2
				category = support_tech
			}
		}
	}

	focus = {
		id = SOV_soviet_artillery

		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = SOV_superior_war_machines }
		x = -1
		y = 1
		relative_position_id = SOV_superior_war_machines
		cost = 5

		available = {
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = { # 2 Mils in Chelyabinsk
				limit = {
					has_full_control_of_state = 572
					572 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				572 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = { # If Chelyabinsk not available, then 1 Mil elsewhere
				random_owned_state = {
					limit = {
						is_fully_controlled_by = ROOT
						arms_factory > 1
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			add_ideas = SOV_defense_industry_artillery_bonus
		}
	}

	focus = {
		id = SOV_pc_of_mortar_armament

		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = SOV_pc_of_mechanical_engineering }
		x = 0
		y = 2
		relative_position_id = SOV_pc_of_mechanical_engineering
		cost = 3

		available = {
			has_full_control_of_state = 219 #MOSCOW
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { SOV_defense_industry_army_artillery_defence_factor = 0.05 }
			custom_effect_tooltip = SOV_pc_of_mortar_armament_ns_tt

			if = { #DEFAULT COMMIE
				limit = {
					has_government = communism
				}
				add_tech_bonus = {
					name = SOV_pc_of_mortar_armament_name_default
					bonus = 0.75
					uses = 2
					category = artillery
				}
			}
			else = { #ALT IDEOLOGY
				add_tech_bonus = {
					name = SOV_pc_of_mortar_armament_name_alt
					bonus = 0.75
					uses = 2
					category = artillery
				}
			}

			219 = {
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_development_of_tankograd

		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SOV_the_means_to_wage_war }
		x = 1
		y = 1
		relative_position_id = SOV_the_means_to_wage_war
		cost = 10

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_fyp_controlled_factories_tier_4_tt
				NOT = { num_of_controlled_factories < SOV_fyp_factory_requirement_tier_4 }
			}
			#TODO_Manu: This could require X num of factories to have been relocated
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { SOV_defense_industry_land_equipment_upgrade_xp_cost = -0.1 }
			custom_effect_tooltip = SOV_development_of_tankograd_ns_tt

			custom_effect_tooltip = SOV_development_of_tankograd_factories_tt
			#This is just for tooltip purposes
			effect_tooltip = {
				every_owned_state = {
					limit = {
						is_on_continent = asia
						arms_factory > 2
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			#Actual effects
			set_temp_variable = { temp_targets_index = 0 }
			while_loop_effect = {
				limit = {
					check_variable = { temp_targets_index = 10 compare = less_than }
				}
				hidden_effect = {
					random_owned_state = {
						limit = {
							is_on_continent = asia
							arms_factory > 2
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							NOT = { has_state_flag = SOV_development_of_tankograd_flag }
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						set_state_flag = SOV_development_of_tankograd_flag
						add_to_temp_variable = { SOV.temp_targets_index = 1 }
						#log = "Round [?SOV.temp_targets_index]"
					}
				}
			}
		}
	}

	focus = {
		id = SOV_merge_tank_and_materiel_plants

		icon = GFX_focus_SOV_merge_plants
		prerequisite = { focus = SOV_development_of_tankograd focus = SOV_pc_of_mortar_armament focus = SOV_soviet_artillery }

		x = 0
		y = 1
		relative_position_id = SOV_pc_of_mortar_armament
		cost = 10

		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			every_military_industrial_organization = {
					limit = {
						has_mio_trait = SOV_mio_trait_merge_plant_no_174 #All Tank MIOs have this trait
					}
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_174
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_112
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_ural_heavy_machine_building_plant
				}

				#MATERIEL
				every_military_industrial_organization = {
					limit = {
						has_mio_trait = SOV_mio_trait_merge_nkmz_plant #All Materiel MIOs have this trait
					}
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_nkmz_plant
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_magnitogorsk_metallurgical_plant
				}
				mio:SOV_grabin_design_bureau_organization = {
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_172
				}
				mio:SOV_tula_arms_plant_organization = {
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_plant_no_622
				}
				mio:SOV_gaz_organization = {
					unlock_mio_trait_tooltip = SOV_mio_trait_merge_automobile_tool_plant
				}
		}
	}

	focus = {
		id = SOV_strengthen_the_mobilization_plan
		icon = GFX_focus_SOV_mobilization_plan
		x = 4
		y = 0
		relative_position_id = SOV_found_the_pcdi
		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_completed_focus = SOV_the_path_of_marxism_leninism
		}
		
		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_to_variable = { SOV_the_red_army_mobilization_speed = 0.05 }
			add_to_variable = { SOV_the_red_army_conscription_factor = 0.03 }
			custom_effect_tooltip = SOV_strengthen_the_mobilization_plan_ns_tt
		}
	}

	focus = {
		id = SOV_military_engineering_university
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = SOV_found_the_pcdi }
		prerequisite = { focus = SOV_strengthen_the_mobilization_plan }
		x = 1
		y = 1
		relative_position_id = SOV_found_the_pcdi
		cost = 5

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			add_to_variable = { SOV_defense_industry_production_speed_coastal_bunker_factor = 0.05 }
			add_to_variable = { SOV_defense_industry_production_speed_bunker_factor = 0.05 }
			add_to_variable = { SOV_defense_industry_max_dig_in_factor = 0.02 }
			custom_effect_tooltip = SOV_military_engineering_university_ns_tt
		}
	}

	focus = {
		id = SOV_leningrad_polytechnical_institute
		icon = GFX_focus_research
		prerequisite = { focus = SOV_pc_of_mechanical_engineering focus = SOV_military_engineering_university}
		x = 2
		y = 0
		relative_position_id = SOV_the_means_to_wage_war
		cost = 5
		dynamic = yes 
		available = {
			date>1940.6.1
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SOV_soviet_atomic_bomb_project
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = SOV_lessons_of_war }
		x = 0
		y = 2
		relative_position_id = SOV_lessons_of_war
		cost = 2

		available = {
			date>1942.6.6
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_soviet_atomic_bomb_project_tech_bonus_name
				bonus = 0.5
				uses = 3
				ahead_reduction = 1
				category = nuclear
			}
		}
	}

	focus = {
		id = SOV_move_industry_to_the_urals
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = SOV_military_engineering_university }
		x = -2
		y = 2
		relative_position_id = SOV_military_engineering_university
		cost = 5

		available = {
			date>1941.2.1
		}
		
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			custom_effect_tooltip = TZ_RELOCATION
			hidden_effect = {
			activate_mission = SOV_TZ_relocate_industry_mil
			activate_mission = SOV_TZ_relocate_industry_civ
			}
		}
	}

	focus = {
		id = SOV_the_road_of_life
		icon = GFX_focus_SOV_the_road_of_life
		prerequisite = { focus = SOV_winter_offensive }
		x = -3
		y = 1
		relative_position_id = SOV_winter_offensive
		cost = 5

		available = {
			date>1943.6.1
			OR = {
				195 = { #LENINGRAD
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				219 = { #MOSCOW
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				217 = { #STALINGRAD
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				137 = { #SEVASTOPOL
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				202 = { #Kiev
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
			}
		}
		
		search_filters = {}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_the_road_of_life_ns
				days = 730
			}
		}
	}


	focus = {
		id = SOV_the_defense_of_moscow
		icon = GFX_focus_SOV_the_defense_of_moscow
		prerequisite = { focus = SOV_found_the_pcdi}
		x = -2
		y = 1
		relative_position_id = SOV_found_the_pcdi
		cost = 3

		available = {

		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			219 = {
			add_building_construction = {
							type = bunker
							level = 3
							province = 6380
							instant_build = yes
						}
			add_building_construction = {
							type = bunker
							level = 3
							province = 11897
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9844
							instant_build = yes
						}	
						add_building_construction = {
							type = bunker
							level = 3
							province = 11839
							instant_build = yes
						}		
						add_building_construction = {
							type = bunker
							level = 3
							province = 11826
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3391
							instant_build = yes
						}	
						add_building_construction = {
							type = bunker
							level = 3
							province = 6414
							instant_build = yes
						}		
						add_building_construction = {
							type = bunker
							level = 3
							province = 11282
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3259
							instant_build = yes
						}
		}
		}
	}

	focus = {
		id = SOV_impregnable_forts
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_military_engineering_university }
		x = -1
		y = 1
		relative_position_id = SOV_military_engineering_university
		cost = 5

		available = {
			OR = {
				has_full_control_of_state = 195 #LENINGRAD
				has_full_control_of_state = 208 #LUGA
				has_full_control_of_state = 137 #CRIMEA
			}
		}
		
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 195 #LENINGRAD
				}
				195 = { #LENINGRAD
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = {
							id = 3151
							id = 6174
						}
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = {
							id = 3151
							id = 6174
						}
						instant_build = yes
					}
					add_dynamic_modifier = { modifier = SOV_krasnaya_gorka_battery scope = SOV }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 208 #LUGA
				}
				208 = { #LUGA
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9097
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 9097
						instant_build = yes
					}
					add_dynamic_modifier = { modifier = SOV_seraya_loshad_battery scope = SOV }
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 137 #CRIMEA
				}
				137 = { #CRIMEA
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 3686
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 3686
						instant_build = yes
					}
					add_dynamic_modifier = { modifier = SOV_armored_battery_35 scope = SOV }
				}
			}
		}
	}

	focus = {
		id = SOV_protect_the_white_sea_baltic_canal
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = SOV_military_engineering_university }
		x = 0
		y = 2
		relative_position_id = SOV_military_engineering_university
		cost = 2

		available = {
			has_full_control_of_state = 215 #ONEGA
			has_full_control_of_state = 216 #OLONETS
			has_full_control_of_state = 264 #TIKHVIN
			has_full_control_of_state = 195 #LENINGRAD
		}
		
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 215 #ONEGA
				}
				215 = { #ONEGA
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 9045
							id = 3078
							id = 11212
						}
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9045
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 216 #OLONETS
				}
				216 = { #OLONETS
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 92
							id = 11092
						}
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 264 #TIKHVIN
				}
				264 = { #TIKHVIN
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 9082
							id = 9190
							id = 11059
						}
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 195 #LENINGRAD
				}
				195 = { #LENINGRAD
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 149
							id = 11068
							id = 79
						}
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_far_east_fortification
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = SOV_military_engineering_university }
		x = 1
		y = 1
		relative_position_id = SOV_military_engineering_university
		cost = 0

		available = {
			OR = {
				has_full_control_of_state = 563
				has_full_control_of_state = 561
				has_full_control_of_state = 657
				has_full_control_of_state = 409
				has_full_control_of_state = 408
			}
		}
		
		search_filters = {}

		completion_reward = {
			563 = { #CHITA
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_4
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 4719
								id = 12622
							}
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 10559
							}
							instant_build = yes
						}
					}
				}
			}
			561 = { #AMUR
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_4
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 12543
								id = 7851
								id = 10678
							}
							instant_build = yes
						}
						add_building_construction = { #Set like this for stupid tooltip purposes
							type = bunker
							level = 1
							province = {
								id = 12657
							}
							instant_build = yes
						}
					}
				}
			}
			657 = { #BIROBIDZHAN
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_10
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 10655
								id = 7801
								id = 10722
								id = 7672
							}
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 7763
								id = 4725
								id = 4805
							}
							instant_build = yes
						}
					}
				}
			}
			409 = { #KHABAROVSK
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_4
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 12189
							}
							instant_build = yes
						}
						add_building_construction = {  #Set like this for stupid tooltip purposes
							type = bunker
							level = 2
							province = {
								id = 10466
							}
							instant_build = yes
						}
					}
				}
			}
			408 = { #VLADIVOSTOK
				if = {
					limit = { is_fully_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_10
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 11643
								id = 6686
								id = 664
								id = 6684
								id = 3787
								id = 6838
							}
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 3977
								id = 957
							}
							instant_build = yes
						}
					}
				}
			}
			# Other possible Provinces
			#11879 (Border Conflict with Japan) 1755 (North Sakhalin)
		}
	}

	focus = {
		id = SOV_restore_cossack_units
		icon = GFX_focus_SOV_restore_cossack_units
		prerequisite = { focus = SOV_strengthen_the_mobilization_plan }
		x = 2
		y = 1
		relative_position_id = SOV_strengthen_the_mobilization_plan
		cost = 05


		available = {

		}
		
		search_filters = {}

		completion_reward = {
			add_to_variable = { SOV_the_red_army_modifier_army_sub_unit_cavalry_speed_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_cavalry_attack_factor = 0.1 }
			custom_effect_tooltip = TZAR_SOV_restore_cossack_units_spawn_tt
			army_experience = 50
			show_unit_leaders_tooltip = SOV_lev_dovator

			#Spawn Cossack division
		}
	}

	focus = {
		id = SOV_cohesion_first
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = SOV_strengthen_the_mobilization_plan }
		x = 4
		y = 1
		relative_position_id = SOV_strengthen_the_mobilization_plan
		cost = 10
		available = {
		}
		
		search_filters = {}

		completion_reward = {
			add_to_variable = { SOV_the_red_army_army_org_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_training_time_factor = 0.15 }
			custom_effect_tooltip = SOV_cohesion_first_ns_tt
			army_experience = 50
		}
	}

	focus = {
		id = SOV_rehabilitated_military
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = SOV_restore_cossack_units focus = SOV_cohesion_first }
		x = 3
		y = 2
		relative_position_id = SOV_strengthen_the_mobilization_plan
		cost = 5

		available = {
			date>1942.6.1
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
		}
		
		search_filters = {}

		completion_reward = {
			add_to_variable = { SOV_the_red_army_army_org_factor = 0.05 }
			custom_effect_tooltip = SOV_rehabilitated_military_ns_tt
			army_experience = 50
			add_ideas = SOV_rehabilitated_military_ns
		}
	}

	focus = {
		id = SOV_military_reorganization
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = SOV_winter_offensive }
		text = "Military Reorganization(BE CAREFUL YOU CAN'T CANCEL IT)"
		x = -1
		y = 1
		relative_position_id = SOV_winter_offensive
		cost = 5

		select_effect = {
			add_ideas = SOV_military_reorganization_ns
		}

		available = {

		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { SOV_barb_debuff_air_superiority_efficiency = 0.1 }
			add_to_variable = { SOV_barb_debuff_army_bonus_air_superiority_factor = 0.025 }
			add_to_variable = { SOV_barb_debuff_air_intercept_efficiency = 0.1 }
			add_to_variable = { SOV_barb_debuff_enemy_army_bonus_air_superiority_factor = -0.075 }
			add_to_variable = { SOV_barb_debuff_army_org_factor = 0.1  }
			add_to_variable = { SOV_barb_debuff_army_defence_factor = 0.05 }
			#Tooltip purposes (Select Effect)
			custom_effect_tooltip = SOV_focus_select_effect_tt
			effect_tooltip = {
				add_ideas = SOV_military_reorganization_ns
			}

			#(Complete Effect)
			custom_effect_tooltip = SOV_focus_complete_effect_tt
			hidden_effect = {
				remove_ideas = SOV_military_reorganization_ns
			}
			army_experience = 1000
			add_command_power = 200
		}
	}

	focus = {
		id = SOV_desperate_measures
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_strengthen_the_mobilization_plan }
		x = 0
		y = 1
		relative_position_id = SOV_strengthen_the_mobilization_plan
		cost = 5

		available = {
			OR = {
			any_enemy_country = {
				has_war_with = SOV
			}
			date>1941.7.1
			NOT = {
				ENG = {
					controls_state = 118
				}
			}
			}
		}
		
		search_filters = {}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_desperate_measures_ns
				days = 200
			}
			army_experience = 50
			custom_effect_tooltip = SOV_desperate_measures_decisions_unlocked_tt
			hidden_effect = {




				add_victory_points = { province = 11225 value = 5 }
				# Behind urals, so kuibyshev doesn't make you cap quite as quickly
				add_victory_points = { province = 10256 value = 5 }
				add_victory_points = { province = 9292 value = 5 }
				add_victory_points = { province = 11375 value = 50 }
				add_victory_points = { province = 1821 value = 5 }
				add_victory_points = { province = 7661 value = 30 }
				# Kuibyshev
				251 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = bunker level = 4 province = 11225 instant_build = yes
						}
						add_building_construction = {
							type = bunker level = 4 province = 9243 instant_build = yes
						}
						add_building_construction = {
							type = bunker level = 4 province = 9299 instant_build = yes
						}
						add_building_construction = {
							type = bunker level = 4 province = 6275 instant_build = yes
						}
					}
				}
				400 = {
					if = {
						limit = { 400 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}					
				247 = {
					if = {
						limit = { 247 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}					
				250 = {
					if = {
						limit = { 250 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}		
				349 = {
					if = {
						limit = { 349 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}		
				353 = {
					if = {
						limit = { 353 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}						
				300 = {
					if = {
						limit = { 300 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}		
				256 = {
					if = {
						limit = { 256 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}						
				302 = {
					if = {
						limit = { 302 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}				
				264 = {
					if = {
						limit = { 264 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				# 264 = {
				# 	if = {
				# 		limit = { 264 = { is_controlled_by = ROOT } }
				# 		add_building_construction = {
				# 			type = infrastructure
				# 			level = 2
				# 			instant_build = yes
				# 		}
				# 	}
				# }						
				350 = {
					if = {
						limit = { 350 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}				
				510 = {
					if = {
						limit = { 510 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}				
				49 = {
					if = {
						limit = { 49 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				403 = {
					if = {
						limit = { 403 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}					
				352 = {
					if = {
						limit = { 352 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 3
							instant_build = yes
						}
					}
				}				
				# Sharya
				# 811 = {
				# 	if = {
				# 		limit = { 811 = { is_controlled_by = ROOT } }
				# 		add_building_construction = {
				# 			type = infrastructure
				# 			level = 1
				# 			instant_build = yes
				# 		}
				# 	}
				# }
				399 = {
					if = {
						limit = { 399 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				# Buzuluk
				# 807 = {
				# 	if = {
				# 		limit = { 807 = { is_controlled_by = ROOT } }
				# 		add_building_construction = {
				# 			type = infrastructure
				# 			level = 6
				# 			instant_build = yes
				# 		}
				# 	}
				# }
				399 = {
					if = {
						limit = { 399 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				400 = {
					if = {
						limit = { 400 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				301 = {
					if = {
						limit = { 301 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				508 = {
					if = {
						limit = { 508 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				407 = {
					if = {
						limit = { 407 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				406 = {
					if = {
						limit = { 406 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 4
							instant_build = yes
						}
					}
				}
				587 = {
					if = {
						limit = { 587 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 3
							instant_build = yes
						}
					}
				}
				584 = {
					if = {
						limit = { 584 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				251 = {
					if = {
						limit = { 251 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				512 = {
					if = {
						limit = { 512 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				348 = {
					if = {
						limit = { 348 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				401 = {
					if = {
						limit = { 401 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 3
							instant_build = yes
						}
					}
				}
				652 = {
					if = {
						limit = { 652 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 3
							instant_build = yes
						}
					}
				}
				239 = {
					if = {
						limit = { 239 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				249 = {
					if = {
						limit = { 249 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				256 = {
					if = {
						limit = { 256 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				250 = {
					if = {
						limit = { 250 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				351 = {
					if = {
						limit = { 351 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				255 = {
					if = {
						limit = { 255 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
				352 = {
					if = {
						limit = { 352 = { is_controlled_by = ROOT } }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			custom_effect_tooltip = SOV_desperate_measures_decisions_unlocked_tt
		}
	}

	focus = {
		id = SOV_Siberian_troops
		text = "Siberian Reinforcments"
		icon = GFX_focus_SOV_builder_of_the_red_army
		prerequisite = { focus = SOV_desperate_measures }
		x = 0
		y = 3
		relative_position_id = SOV_desperate_measures
		cost = 5

		available = {
			date>1941.10.1
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			IF = {
				limit = {
					GER = {
						NOT = {
							has_war_with = SOV
						}
					}
				}
				GER = {
				complete_national_focus = GER_ussr_war_goal
			}
			}
			hidden_effect = {
				if = { limit = { has_idea = semyon_timoshenko } remove_ideas = semyon_timoshenko }
				if = { limit = { has_idea = SOV_aleksandr_yegorov } remove_ideas = SOV_aleksandr_yegorov }
				if = { limit = { has_idea = SOV_vasily_blyukher } remove_ideas = SOV_vasily_blyukher }
			}
			add_advisor_role = {
				Character = SOV_georgy_zhukov
				advisor = {
					cost = 0
					slot = army_chief
					idea_token = georgy_zhukov
					ledger = army
					allowed = {
						original_tag = SOV
					}
					available = {
						has_completed_focus = SOV_defense_of_moscow
					}
					traits = {
						marshal_of_victory
					}
				}
			  	activate = yes
			}
						hidden_effect = {
				if = {
					limit = { NOT = { has_tech = improved_heavy_tank_chassis } }
					set_technology = {
						improved_heavy_tank_chassis = 1 popup = no
					}
				}
				create_equipment_variant = {
					name = "TSON SEX"
					type = heavy_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_heavy_cannon_2
						turret_type_slot = tank_heavy_three_man_tank_turret
						suspension_type_slot = tank_interleaved_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_2
						special_type_slot_2 = secondary_turret_small_cannon
						special_type_slot_3 = extra_ammo_storage
						special_type_slot_4 = wet_ammo_storage
					}
					upgrades={
						tank_nsb_engine_upgrade=5
						# tank_nsb_armor_upgrade=5
					}
				}
				load_oob = "SOV_defense_moscow_heavies"
				load_oob = "SOV_siberian_reinforcements"
				
			}
			custom_effect_tooltip = SR_siberian_reinforcments_tt
		}
	}
	focus = {
		id = SOV_mongolian_horses
		text = "Aid to Our Allies"
		icon = GFX_focus_SWI_issue_war_bonds
		prerequisite = { focus = SOV_Siberian_troops }
		x = 1
		y = 4
		relative_position_id = SOV_desperate_measures
		cost = 1

		available = {
			MON = {
				exists = yes
			}
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			MON = {
			
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 15000 producer = SOV } 
			add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 2500 producer = SOV } 
			add_equipment_to_stockpile = { type = anti_air_equipment_1 amount = 800 producer = SOV } 
			add_equipment_to_stockpile = { type = anti_tank_equipment_1 amount = 1250 producer = SOV }
			add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 3460 producer = SOV }  

			}
		}
	}
	focus = {
		id = SOV_last_stand
		icon = GFX_focus_generic_workers_and_farmers_rise
		prerequisite = { focus = SOV_Siberian_troops }
		text = "Last Stand"
		x = -1
		y = 4
		relative_position_id = SOV_desperate_measures
		cost = 0.2

		available = {
			AND = {
				NOT = {
				controls_province = 6380
				controls_province = 413
			}
			surrender_progress > 0.78
			}
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			custom_effect_tooltip = "Spawns infantry on frontline with enemy.(4 inf per state)"
			hidden_effect = {
				division_template = {
					name = "Strelkoviy Batal'on"
					priority = 0
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						infantry = { x = 0 y = 4 }

						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 1 y = 3 }
						infantry = { x = 1 y = 4 }

						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
						infantry = { x = 2 y = 3 }
						anti_air_brigade = { x = 2 y = 4 }

						artillery_brigade = { x = 3 y = 0}
						anti_tank_brigade = { x = 3 y = 1}
						artillery_brigade = { x = 3 y = 2}
						artillery_brigade = { x = 3 y = 3}
					}
					support = {
						engineer_company = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						logistics_company  = { x = 0 y = 2 }
					}
				}
				every_state = {
					limit = {	
						AND = {
							any_neighbor_state = { OR = { is_controlled_by = GER is_controlled_by = ROM is_controlled_by = HUN } }
							is_controlled_by = SOV
						}
					}
					create_unit = {
						division = "division_template = \"Strelkoviy Batal'on\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Strelkoviy Batal'on\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Strelkoviy Batal'on\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Strelkoviy Batal'on\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Strelkoviy Batal'on\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = SOV
					}
					create_unit = {
						division = "division_template = \"Strelkoviy Batal'on\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = SOV
					}
				}
			}
		}
	}
	focus = {
		id = SOV_winter_offensive
		icon = GFX_focus_SOV_organization_centralization_discipline
		prerequisite = { focus = SOV_Siberian_troops }
		x = 0
		y = 6
		relative_position_id = SOV_desperate_measures
		cost = 0.2

		available = {
			date>1941.11.1
			date<1942.3.1
		}
		bypass = {
			date>1942.3.1
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { SOV_barb_debuff_air_superiority_efficiency = 0.1 }
			add_to_variable = { SOV_barb_debuff_army_bonus_air_superiority_factor = 0.025 }
			add_to_variable = { SOV_barb_debuff_air_intercept_efficiency = 0.1 }
			add_to_variable = { SOV_barb_debuff_enemy_army_bonus_air_superiority_factor = -0.075 }
			add_to_variable = { SOV_barb_debuff_army_org_factor = 0.1  }
			add_to_variable = { SOV_barb_debuff_army_defence_factor = 0.05 }
			add_timed_idea = { idea = SOV_winter_offensive days = 60 }
		}
	}
	focus = {
		id = SOV_lessons_of_war
		text = "Lessons of War"
		icon = GFX_focus_SWE_refuge_for_revolutionaries
		prerequisite = { focus = SOV_winter_offensive }
		x = 0
		y = 8
		relative_position_id = SOV_desperate_measures
		cost = 2

		available = {
			date>1943.1.1
			has_completed_focus = SOV_military_reorganization
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { SOV_barb_debuff_air_superiority_efficiency = 0.1 }
			add_to_variable = { SOV_barb_debuff_army_bonus_air_superiority_factor = 0.025 }
			add_to_variable = { SOV_barb_debuff_air_intercept_efficiency = 0.1 }
			add_to_variable = { SOV_barb_debuff_enemy_army_bonus_air_superiority_factor = -0.075 }
			add_to_variable = { SOV_barb_debuff_army_org_factor = 0.1  }
			add_to_variable = { SOV_barb_debuff_army_defence_factor = 0.05 }

			add_to_variable = { SOV_soviet_airforce_air_night_penalty = -0.1 }
			add_to_variable = { SOV_soviet_airforce_air_mission_efficiency = 0.1 } 
			custom_effect_tooltip = SOV_the_modern_war_in_the_skies_ns_tt
			custom_effect_tooltip = "Penalty from Officer Corp Purged Reduced
		"
		hidden_effect = {
				if = { limit = { has_idea = ivan_konev } remove_ideas = ivan_konev }
				add_ideas = konstantin_rokossovsky
			}
		add_to_variable = { SOV_soviet_airforce_air_cas_present_factor = 0.1 }
			custom_effect_tooltip = SOV_ground_support_ns_tt


		add_to_variable = { SOV_barb_debuff_air_superiority_efficiency = 0.075 }
		add_to_variable = { SOV_barb_debuff_army_bonus_air_superiority_factor = 0.025 }
		add_to_variable = { SOV_barb_debuff_air_intercept_efficiency = 0.05 }
		add_to_variable = { SOV_barb_debuff_enemy_army_bonus_air_superiority_factor = -0.1 }

		# add_to_variable = { SOV_barb_debuff_air_superiority_efficiency = 0.1 }
		# add_to_variable = { SOV_barb_debuff_army_bonus_air_superiority_factor = 0.1 }
		# add_to_variable = { SOV_barb_debuff_air_intercept_efficiency = 0.1 }
		# add_to_variable = { SOV_barb_debuff_enemy_army_bonus_air_superiority_factor = 0.1 }

		hidden_effect = {
			set_technology = { masterful_blitz = 1 popup = no }
		}
		custom_effect_tooltip = SOV_the_glory_of_the_red_army_masterful_blitz_tactic_tt
		custom_effect_tooltip = SOV_masterful_blitz_change

		custom_effect_tooltip = "    "

		custom_effect_tooltip = SOV_war_for_communism_generals
			add_to_variable = { SOV_the_red_army_army_org_factor = 0.05 }
			set_variable = { SOV_the_red_army_experience_gain_army_factor = 0 }
			set_variable = { SOV_the_red_army_experience_loss_factor = 0 }

			custom_effect_tooltip = SOV_lessons_of_war_ns_tt

			unlock_decision_tooltip = SOV_order_227
			custom_effect_tooltip = SOV_lessons_of_war_unlock_military_operations_tt

			custom_effect_tooltip = SOV_lessons_of_war_cowed_trait_tt
			hidden_effect = {
				every_army_leader = {
					limit = {
						has_trait = trait_SOV_cowed_by_stalin_army
					}
					remove_unit_leader_trait =  trait_SOV_cowed_by_stalin_army
				}
				every_navy_leader = {
					limit = {
						has_trait = trait_SOV_cowed_by_stalin_navy
					}
					remove_unit_leader_trait =  trait_SOV_cowed_by_stalin_navy
				}
			}
		}
	}
	focus = {
		id = SOV_bagration
		text = "Operation Bagration"
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		prerequisite = { focus = SOV_lessons_of_war }
		x = 1
		y = 1
		relative_position_id = SOV_lessons_of_war
		cost = 2

		available = {
			date>1945.1.1
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_operation_bagration
				days = 30
			}
		}
	}
	focus = {
		id = SOV_little_saturn
		text = "Operation Little Saturn"
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		prerequisite = { focus = SOV_lessons_of_war }
		x = -1
		y = 9
		relative_position_id = SOV_desperate_measures
		cost = 2

		available = {
			date>1943.10.1
			date<1944.1.1
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_operation_little_saturn
				days = 30
			}
		}
	}
	focus = {
		id = SOV_uranus
		text = "Operation Uranus"
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		prerequisite = { focus = SOV_winter_offensive }
		x = 3
		y = 1
		relative_position_id = SOV_winter_offensive
		cost = 2

		available = {
			date>1942.10.1
			date<1943.1.1
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_operation_uranus
				days = 30
			}
		}
	}
	focus = {
		id = SOV_Siberian_eco
		icon = GFX_focus_generic_aircraft_production
		text = "Siberian Factories"
		prerequisite = { focus = SOV_desperate_measures }
		x = 1
		y = 2
		relative_position_id = SOV_desperate_measures
		cost = 5

		available = {
			NOT = { has_idea = SOV_desperate_measures_ns }
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_ideas = SOV_tool_relocated
		}
	}
	focus = {
		id = SOV_land_lease
		icon = GFX_focus_generic_befriend_usa
		prerequisite = { focus = SOV_desperate_measures }
		text = "First Land-Lease"
		x = -1
		y = 2
		relative_position_id = SOV_desperate_measures
		cost = 5

		available = {
			NOT = { has_idea = SOV_desperate_measures_ns }
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			
			add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 32000  } 
			add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 2500  } 
			add_equipment_to_stockpile = { type = anti_air_equipment_1 amount = 800  } 
			add_equipment_to_stockpile = { type = anti_tank_equipment_2 amount = 1250  }
			add_equipment_to_stockpile = { type = artillery_equipment_2 amount = 3460  }  

		}
	}
	focus = {
		id = SOV_second_land_lease
		icon = GFX_focus_chi_british_cooperation
		text = "Second Land-Lease"
		prerequisite = { focus = SOV_land_lease }
		x = -2
		y = 3
		relative_position_id = SOV_desperate_measures
		cost = 5

		available = {
			AND = {
				NOT = { has_idea = SOV_desperate_measures_ns }
				date>1942.6.6
			}	
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 45000  } 
			add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 3500  } 
			add_equipment_to_stockpile = { type = anti_air_equipment_2 amount = 1100  } 
			add_equipment_to_stockpile = { type = anti_tank_equipment_3 amount = 2300  }
			add_equipment_to_stockpile = { type = artillery_equipment_3 amount = 5600  } 

		}
	}
		focus = {
		id = SOV_tool_relocation
		icon = GFX_focus_SOV_organize_wreckers
		prerequisite = { focus = SOV_Siberian_eco }
		text = "Relocation of Industrial Equipment"
		x = 2
		y = 3
		relative_position_id = SOV_desperate_measures
		cost = 5

		select_effect = {
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			random_owned_state = {
				limit = {
					is_on_continent = asia
				}
				add_extra_state_shared_building_slots = 12
					add_building_construction = {
						type = arms_factory
						level = 12
						instant_build = yes
					}
			}
			random_owned_state = {
				limit = {
					is_on_continent = asia
				}
				add_extra_state_shared_building_slots = 12
					add_building_construction = {
						type = arms_factory
						level = 12
						instant_build = yes
					}
			}
			random_owned_state = {
				limit = {
					is_on_continent = asia
				}
				add_extra_state_shared_building_slots = 12
					add_building_construction = {
						type = arms_factory
						level = 12
						instant_build = yes
					}
			}
		}
	}

	focus = {
		id = SOV_penal_battalions
		icon = GFX_focus_SOV_penal_battalions
		prerequisite = { focus = SOV_winter_offensive }
		x = 1
		y = 1
		relative_position_id = SOV_winter_offensive
		cost = 5

		available = {
			has_war = yes
		}
		
		search_filters = {}

		completion_reward = {
			#Spawn Penal divisions
			custom_effect_tooltip = SOV_penal_battalions_spawn_tt
			hidden_effect = {
				set_technology = { penal_infantry = 1 popup = no }

				division_template = {
					name = "Penal Battalion"
					division_names_group = SOV_PEN_01
					is_locked = yes

					regiments = {
						penal_battalion = { x = 0 y = 0 }
						penal_battalion = { x = 0 y = 1 }
						penal_battalion = { x = 0 y = 2 }
						penal_battalion = { x = 0 y = 3 }
						penal_battalion = { x = 0 y = 4 }
						penal_battalion = { x = 1 y = 0 }
						penal_battalion = { x = 1 y = 1 }
						penal_battalion = { x = 1 y = 2 }
						penal_battalion = { x = 1 y = 3 }
						penal_battalion = { x = 1 y = 4 }
						penal_battalion = { x = 2 y = 0 }
						penal_battalion = { x = 2 y = 1 }
					
						anti_air_brigade = { x = 2 y = 1 }
						artillery_brigade = { x = 3 y = 0 }
						artillery_brigade = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
						artillery_brigade = { x = 3 y = 3 }
						artillery_brigade = { x = 3 y = 4 }
						anti_tank_brigade = { x = 4 y = 0 }
						
					}
					support = {
						recon = { x = 0 y = 0 } engineer = { x = 0 y = 1 } anti_air = { x = 0 y = 2 }
						anti_tank = { x = 0 y = 3 } artillery = { x = 0 y = 4 }
					}
				}

				SOV_spawn_penal_divisions_effect = yes
			}
		}
	}






########   #######  ##       #### ######## ####  ######     ###    ##       
##     ## ##     ## ##        ##     ##     ##  ##    ##   ## ##   ##       
##     ## ##     ## ##        ##     ##     ##  ##        ##   ##  ##       
########  ##     ## ##        ##     ##     ##  ##       ##     ## ##       
##        ##     ## ##        ##     ##     ##  ##       ######### ##       
##        ##     ## ##        ##     ##     ##  ##    ## ##     ## ##       
##         #######  ######## ####    ##    ####  ######  ##     ## ######## 



	focus = {
		id = SOV_the_path_of_marxism_leninism
		icon = GFX_focus_SOV_the_path_of_marxism_leninism
		x = 7
		y = 0
		relative_position_id = SOV_strengthen_the_mobilization_plan
		cost = 5

		mutually_exclusive = { focus = SOV_beaten_but_not_defeated }

		available = {

		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			country_event = {
					id = NSB_soviet_paranoia_system_events.01
					hours = 6 
					random_hours = 24
				}
			add_political_power = 25
			add_ideas = planned_economy
		}
	}

	focus = {
		id = SOV_the_centre
		icon = GFX_focus_fra_loyalty_stalin
		prerequisite = { focus = SOV_the_path_of_marxism_leninism }
		x = 0
		y = 1
		relative_position_id = SOV_the_path_of_marxism_leninism
		cost = 5
		mutually_exclusive = {  focus = SOV_the_left_opposition }

		allow_branch = {
			not = {has_country_flag = picked_trotsky}
		}

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA FOCUS_FILTER_STABILITY}

		completion_reward = {
			set_country_flag = picked_stalin
			mark_focus_tree_layout_dirty = yes
			add_to_variable = { SOV_the_red_army_mobilization_speed = 0.15 }
			add_to_variable = { SOV_the_red_army_conscription = 0.03 }
			custom_effect_tooltip = SOV_strengthen_the_mobilization_plan_SR_tt
			hidden_effect = {
				set_technology = { 	Soviet_Hero_City = 1 popup = no }
				add_timed_idea = {
					idea = officers_purged
					days = 700
				}
			add_dynamic_modifier = { modifier = SOV_the_politburo_good_dynamic_modifier }
			}
			custom_effect_tooltip = SOV_the_centre_ns_tt

			add_political_power = 25
			add_stability = 0.05
			set_division_template_lock = {
				division_template = "NKVD Pogranichnaya Diviziya"
				is_locked = no
			}

			SOV_paranoia_low_decrease_effect = yes
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}

	focus = {
		id = SOV_socialism_in_one_country
		icon = GFX_focus_SOV_socialism_in_one_country
		prerequisite = { focus = SOV_the_centre }
		x = -2
		y = 1
		relative_position_id = SOV_the_centre
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_the_politburo_communism_drift = 0.05 }
			add_to_variable = { SOV_the_politburo_drift_defence_factor = 0.05 } 
			add_to_variable = { SOV_the_politburo_defensive_war_stability_factor = 0.25 } 
			custom_effect_tooltip = SOV_socialism_in_one_country_ns_tt

			add_political_power = 25

			SOV_paranoia_low_decrease_effect = yes
		}
	}

	focus = {
		id = SOV_the_stalin_constitution
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_the_centre }
		x = 2
		y = 1
		relative_position_id = SOV_the_centre
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_to_variable = { SOV_the_politburo_political_power_factor = 0.05 }
			add_to_variable = { SOV_the_politburo_drift_defence_factor = 0.05 } 
			custom_effect_tooltip = SOV_the_stalin_constitution_ns_tt

			add_political_power = 50
			add_stability = 0.05

			SOV_paranoia_low_decrease_effect = yes
		}
	}

	focus = {
		id = SOV_the_zinovyevite_terrorist_center
		icon = GFX_focus_SOV_purge_zinovyevists
		prerequisite = { focus = SOV_the_stalin_constitution }
		x = -1
		y = 1
		relative_position_id = SOV_the_stalin_constitution
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		select_effect = {
			set_country_flag = SOV_paranoia_do_not_cancel_focus_flag #This focus cannot be canceled
		}

		completion_reward = {
			clr_country_flag = SOV_paranoia_do_not_cancel_focus_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_focus_flag days = 15 } #Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_first_moscow_trial_flag #Used to unlock the next purge focus

			add_political_power = 25

			SOV_paranoia_high_increase_effect = yes
			
			#HISTORICAL
			#Zinovyev
			if = {
				limit = {
					has_character = SOV_grigory_zinovyev
				}
				SOV_grigory_zinovyev = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Kamenev
			if = {
				limit = {
					has_character = SOV_lev_kamenev
				}
				SOV_lev_kamenev = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Smirnov
			if = {
				limit = {
					has_character = SOV_ivan_smirnov
				}
				SOV_ivan_smirnov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}

			#NOT-SO-HISTORICAL
			#Sokolnikov
			if = {
				limit = {
					has_character = SOV_grigory_sokolnikov
				}
				SOV_grigory_sokolnikov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Shlyapnikov
			if = {
				limit = {
					has_character = SOV_aleksandr_shlyapnikov
				}
				SOV_aleksandr_shlyapnikov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			
			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt
			hidden_effect = {
				set_country_flag = SOV_purge_event_unavoidable_flag #No way to avoid this purge. This people are about to be purged and there's nothing you can do for them.
				SOV_trigger_great_purge_moscow_trial_effect = yes #FIRST MOSCOW TRIAL -> Zinovyev & friends
			}
			custom_effect_tooltip = SOV_trigger_first_moscow_trial_tt
		}
	}

	focus = {
		id = SOV_secure_the_administration
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = SOV_socialism_in_one_country }
		x = 1
		y = 1
		relative_position_id = SOV_socialism_in_one_country
		cost = 2.5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_the_politburo_economy_cost_factor = -0.2 }
			add_to_variable = { SOV_the_politburo_trade_laws_cost_factor = -0.2 }
			add_to_variable = { SOV_the_politburo_mobilization_laws_cost_factor = -0.2 }
			custom_effect_tooltip = SOV_secure_the_administration_ns_tt

			add_political_power = 50

			SOV_paranoia_medium_decrease_effect = yes
		}
	}

	focus = {
		id = SOV_the_collectivization_process
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = SOV_socialism_in_one_country }
		x = -1
		y = 1
		relative_position_id = SOV_socialism_in_one_country
		cost = 2.5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_the_politburo_good_consumer_goods_factor = -0.15 }
			add_to_variable = { SOV_the_politburo_production_speed_buildings_factor = 0.05 } 
			add_to_variable = { SOV_the_politburo_global_building_slots_factor = 0.1 } 
			custom_effect_tooltip = SOV_the_collectivization_process_ns_tt

			add_stability = -0.05
			add_war_support = -0.05

			if = { #Target a rural state with no civs
				limit = {
					any_owned_state = {
						OR = {
							has_state_category = town #Developed Rural Region
							has_state_category = rural #Rural Region
						}
						is_fully_controlled_by = ROOT
						industrial_complex < 1
						arms_factory < 1
						dockyard < 1
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						OR = {
							has_state_category = town #Developed Rural Region
							has_state_category = rural #Rural Region
						}
						is_fully_controlled_by = ROOT
						industrial_complex < 1
						arms_factory < 1
						dockyard < 1
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = { #Failsafe 1: Target a random rural state
				limit = {
					any_owned_state = {
						OR = {
							has_state_category = town #Developed Rural Region
							has_state_category = rural #Rural Region
						}
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						OR = {
							has_state_category = town #Developed Rural Region
							has_state_category = rural #Rural Region
						}
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = { #Failsafe 2: Target a random state
				limit = {
					any_owned_state = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}

			SOV_paranoia_medium_decrease_effect = yes
		}
	}

	focus = {
		id = SOV_the_anti_soviet_trotskyist_center
		icon = GFX_focus_SOV_purge_trotskyists
		prerequisite = { focus = SOV_the_stalin_constitution }
		x = 1
		y = 1
		relative_position_id = SOV_the_stalin_constitution
		cost = 5

		available = {
			has_country_flag = {
				flag = SOV_first_moscow_trial_flag
				days > 175
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_purge_focus_days_tt
				has_country_flag = {
					flag = SOV_first_moscow_trial_flag
					days > 175
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		select_effect = {
			set_country_flag = SOV_paranoia_do_not_cancel_focus_flag #This focus cannot be canceled
		}

		completion_reward = {
			clr_country_flag = SOV_paranoia_do_not_cancel_focus_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_focus_flag days = 15 } #Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_second_moscow_trial_flag #Used to unlock the next purge focus

			add_political_power = 25
			if = { limit = { has_idea = SOV_genrikh_yagoda } remove_ideas = SOV_genrikh_yagoda }
			add_ideas = SOV_nikolay_yezhov
			SOV_paranoia_high_increase_effect = yes

			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt
			custom_effect_tooltip = SOV_trigger_second_moscow_trial_tt		
			custom_effect_tooltip = SOV_increase_weekly_paranoia_in_trait_tt
		}
	}

	focus = {
		id = SOV_the_workers_dictatorship
		icon = GFX_focus_spr_masters_of_our_own_fate
		prerequisite = { focus = SOV_organization_centralization_discipline }
		x = 1
		y = 1
		relative_position_id = SOV_organization_centralization_discipline
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_the_politburo_political_power_factor = 0.05 }
			add_to_variable = { SOV_the_politburo_max_surrender_limit_offset = 0.05 }
			custom_effect_tooltip = SOV_the_workers_dictatorship_ns_tt

			add_political_power = 50

			SOV_paranoia_low_decrease_effect = yes
		}
	}

	focus = {
		id = SOV_organization_centralization_discipline
		icon = GFX_focus_SOV_organization_centralization_discipline
		prerequisite = { focus = SOV_the_collectivization_process }
		prerequisite = { focus = SOV_secure_the_administration }
		x = 1
		y = 1
		relative_position_id = SOV_the_collectivization_process
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_the_politburo_max_command_power = 20 }
			add_to_variable = { SOV_the_politburo_mobilization_speed = 0.05 }
			custom_effect_tooltip = SOV_organization_centralization_discipline_ns_tt

			add_political_power = 50
			217 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
				}
			SOV_paranoia_medium_decrease_effect = yes
		}
	}

	focus = {
		id = SOV_the_military_conspiracy
		icon = GFX_focus_SOV_military_purge
		prerequisite = { focus = SOV_the_anti_soviet_trotskyist_center }
		prerequisite = { focus = SOV_the_zinovyevite_terrorist_center }
		x = -1
		y = 1
		relative_position_id = SOV_the_anti_soviet_trotskyist_center
		cost = 5

		available = {
			has_country_flag = {
				flag = SOV_second_moscow_trial_flag
				days > 175
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_purge_focus_days_military_tt
				has_country_flag = {
					flag = SOV_second_moscow_trial_flag
					days > 175
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		select_effect = {
			set_country_flag = SOV_paranoia_do_not_cancel_focus_flag #This focus cannot be canceled
		}

		completion_reward = {
			clr_country_flag = SOV_paranoia_do_not_cancel_focus_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_focus_flag days = 15 } #Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_trial_of_the_generals_flag #Used to unlock the next purge focus

			add_political_power = 25

			SOV_paranoia_high_increase_effect = yes

			#Historical
			if = {
				limit = {
					has_character = SOV_mikhail_tukhachevsky
				}
				SOV_mikhail_tukhachevsky = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#NOT-SO-HISTORICAL
			#Yegorov
			if = {
				limit = {
					has_character = SOV_aleksandr_yegorov
				}
				SOV_aleksandr_yegorov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Blyukher
			if = {
				limit = {
					has_character = SOV_vasily_blyukher
				}
				SOV_vasily_blyukher = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Primakov
			if = {
				limit = {
					has_character = SOV_vitaly_primakov
				}
				SOV_vitaly_primakov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}			

			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt
			hidden_effect = {
				set_country_flag = SOV_purge_event_unavoidable_flag #No way to avoid this purge. This people are about to be purged and there's nothing you can do for them.
				SOV_great_purge_army_trial_of_the_generals_effect = yes #TRIAL OF THE GENERALS -> Tukhachevsky
			}

			set_country_flag = SOV_stalinist_military_flag #New Generals have more chances of being Stalinists after this
		}
	}

	focus = {
		id = SOV_the_bloc_of_rights_and_trotskyites
		icon = GFX_focus_SOV_purge_bukharinists
		prerequisite = { focus = SOV_the_military_conspiracy }
		x = -1
		y = 1
		relative_position_id = SOV_the_military_conspiracy
		cost = 5

		available = {
			has_country_flag = {
				flag = SOV_trial_of_the_generals_flag
				days > 175
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_purge_focus_days_rights_tt
				has_country_flag = {
					flag = SOV_trial_of_the_generals_flag
					days > 175
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		select_effect = {
			set_country_flag = SOV_paranoia_do_not_cancel_focus_flag #This focus cannot be canceled
		}

		completion_reward = {
			if = { limit = { has_idea = SOV_nikolay_yezhov } remove_ideas = SOV_nikolay_yezhov }
			add_ideas = SOV_lavrenty_beriya
			clr_country_flag = SOV_paranoia_do_not_cancel_focus_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_focus_flag days = 15 } #Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_third_moscow_trial_flag #Used to unlock the next purge focus

			add_political_power = 25

			#HISTORICAL
			#Bukharin
			if = {
				limit = {
					has_character = SOV_nikolay_bukharin
				}
				SOV_nikolay_bukharin = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Rykov
			if = {
				limit = {
					has_character = SOV_aleksey_rykov
				}
				SOV_aleksey_rykov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#NOT-SO-HISTORICAL
			#Tomsky
			if = {
				limit = {
					has_character = SOV_mikhail_tomsky
				}
				SOV_mikhail_tomsky = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Litvinov
			if = {
				limit = {
					has_character = SOV_maksim_litvinov
				}
				SOV_maksim_litvinov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}

			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt
			hidden_effect = {
				set_country_flag = SOV_purge_event_unavoidable_flag #No way to avoid this purge. This people are about to be purged and there's nothing you can do for them.
				SOV_trigger_great_purge_moscow_trial_effect = yes #THIRD MOSCOW TRIAL -> Right Opposition
			}
			custom_effect_tooltip = SOV_trigger_third_moscow_trial_tt

			SOV_remove_paranoia_effect = yes #REMOVE PARANOIA SYSTEM
		}
	}

	focus = {
		id = SOV_behead_the_snake
		icon = GFX_focus_SOV_behead_the_snake
		prerequisite = { focus = SOV_the_bloc_of_rights_and_trotskyites }
		prerequisite = { focus = SOV_nkvd_primacy }
		x = 1
		y = 1
		relative_position_id = SOV_the_bloc_of_rights_and_trotskyites
		cost = 5

		available = {
			has_government = communism
		}
		
		search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
				custom_effect_tooltip = SOV_behead_the_snake_no_lar_tt
			SOV_paranoia_high_decrease_effect = yes
			IF = { 
				limit = { has_idea = trotskyite_plot_nsb}
				remove_ideas = trotskyite_plot_nsb 
			}
		}
	}

	focus = {
		id = SOV_stalins_cult_of_personality
		icon = GFX_focus_SOV_stalins_cult_of_personality
		prerequisite = { focus = SOV_the_bloc_of_rights_and_trotskyites }
		prerequisite = {focus = SOV_organization_centralization_discipline}
		x = -1
		y = 1
		relative_position_id = SOV_the_bloc_of_rights_and_trotskyites
		cost = 5

		available = {
			has_country_flag = {
				flag = SOV_third_moscow_trial_flag
				days > 175
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_purge_focus_days_cult_tt
				has_country_flag = {
					flag = SOV_third_moscow_trial_flag
					days > 175
				}
			}
			has_completed_focus = SOV_expand_the_agitprop
			has_country_leader = {
				character = SOV_iosif_stalin
				ruling_only = yes
			}
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_political_power = 25

			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_stalin
			custom_effect_tooltip = propaganda_campaign_requirement_tt
		}
	}

	focus = {
		id = SOV_inheritor_of_the_mantle_of_lenin
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = SOV_stalins_cult_of_personality }
		x = -1
		y = 1
		relative_position_id = SOV_stalins_cult_of_personality
		cost = 2

		mutually_exclusive = { focus = SOV_the_faithful_servant_of_lenin }

		available = {
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_war_support = 0.05
			add_country_leader_trait = stalin_inheritor_of_lenin
		}
	}

	focus = {
		id = SOV_brilliant_genius
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = SOV_inheritor_of_the_mantle_of_lenin }
		x = -1
		y = 1
		relative_position_id = SOV_inheritor_of_the_mantle_of_lenin
		cost = 3
		
		available = {
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			#Academies of Sciences decisions are 50% cheaper
			divide_variable = { SOV_national_academy_of_sciences_construction_cost = 2 }
			custom_effect_tooltip = SOV_brilliant_genius_academies_of_sciences_tt

			if = {
				limit = {
					has_completed_focus = SOV_leader_of_the_party_and_the_people
				}
				swap_ruler_traits = {
					remove = stalin_inheritor_of_lenin_leader
					add = stalin_inheritor_of_lenin_final
				}
			}
			else = {
				swap_ruler_traits = {
					remove = stalin_inheritor_of_lenin
					add = stalin_inheritor_of_lenin_genius
				}
			}
		}
	}

	focus = {
		id = SOV_the_faithful_servant_of_lenin
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = SOV_stalins_cult_of_personality }
		x = 1
		y = 1
		relative_position_id = SOV_stalins_cult_of_personality
		cost = 3

		mutually_exclusive = { focus = SOV_inheritor_of_the_mantle_of_lenin }

		available = {
		}
		
		search_filters = {FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_stability = 0.1
			add_country_leader_trait = stalin_servant_of_lenin
		}
	}

	focus = {
		id = SOV_ban_excessive_hero_worship
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = SOV_the_faithful_servant_of_lenin }
		x = 1
		y = 1
		relative_position_id = SOV_the_faithful_servant_of_lenin
		cost = 2

		available = {
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}

		completion_reward = {
			custom_effect_tooltip = SOV_ban_excessive_hero_worship_dec_cost_tt
			SOV_foreign_politics_decision_cost_reduction_effect = yes

			if = {
				limit = {
					has_completed_focus = SOV_leader_of_the_party_and_the_people
				}
				swap_ruler_traits = {
					remove = stalin_servant_of_lenin_leader
					add = stalin_servant_of_lenin_final
				}
			}
			else = {
				swap_ruler_traits = {
					remove = stalin_servant_of_lenin
					add = stalin_servant_of_lenin_worship
				}
			}
		}
	}

	focus = {
		id = SOV_great_commander
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = { focus = SOV_organization_centralization_discipline }
		x = -1
		y = 1
		relative_position_id = SOV_organization_centralization_discipline
		cost = 5

		
		available = {
			custom_trigger_tooltip = {
				tooltip = "10 Campaigns completed"
				check_variable = { SOV_propaganda_campaigns_taken = 10 compare = greater_than_or_equals }
			}
		}
		
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_country_leader_trait = stalin_great_commander
			add_field_marshal_role = {
				character = "SOV_iosif_stalin"
				traits={ old_guard politically_connected media_personality harsh_leader }
				skill=3
				attack_skill=14
				defense_skill=3
				planning_skill=3
				logistics_skill=3
				legacy_id=0
			}
		}
	}

	focus = {
		id = SOV_architect_of_communism
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_great_commander }
		prerequisite = { focus = SOV_the_workers_dictatorship }
		x = 1
		y = 1
		relative_position_id = SOV_great_commander
		cost = 5


		available = {
			custom_trigger_tooltip = {
				tooltip = "12 Campaigns completed"
				check_variable = { SOV_propaganda_campaigns_taken = 12 compare = greater_than_or_equals }
			}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_country_leader_trait = stalin_architect_of_communism
		}
	}

	focus = {
		id = SOV_father_of_nations
		icon = GFX_focus_SOV_father_of_nations
		prerequisite = { focus = SOV_stalins_cult_of_personality }
		x = 0
		y = 2
		relative_position_id = SOV_stalins_cult_of_personality
		cost = 5

		available = {
			custom_trigger_tooltip = {
				tooltip = "15 Campaigns completed"
				check_variable = { SOV_propaganda_campaigns_taken = 15 compare = greater_than_or_equals }
			}
		}
		
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY}

		completion_reward = {
			swap_ruler_traits = {
				remove = stalin_heart_of_steel
				add = stalin_father_of_nations
			}
			if = {
				limit = {
					has_completed_focus = SOV_collectivist_propaganda
				}
				add_ideas = SOV_war_heroes_ns
			}
			if = {
				limit = {
					has_completed_focus = SOV_positive_heroism
				}
				add_ideas = SOV_collectivist_propaganda_ns
			}	
		}
	}

	focus = {
		id = SOV_the_construction_of_communism
		icon = GFX_focus_ger_great_red_menace
		prerequisite = { focus = SOV_stalins_cult_of_personality }
		prerequisite = { focus = SOV_nkvd_primacy }
		x = 3
		y = 1
		relative_position_id = SOV_stalins_cult_of_personality
		cost = 5

		available = {
			date > 1942.1.1
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {MON = {exists = yes}}
				330 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 8
					instant_build = yes
				}
			}
			}
			every_owned_state = {
				limit = {infrastructure < 4}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}

		}
	}

################################################################################################################

#   ### ### ###      ##  ###  ###   ##   ## ### ### ###  ##  #  #     ### #   #  ##  #   #  #  ## ### #   # ### 
#   #   #    #      #  # #  # #  # #  # #    #   #   #  #  # ## #     #    # #  #  # #   #  # #    #  #   # #   
#   ##  ##   #      #  # ###  ###  #  #  #   #   #   #  #  # # ##     ##    #   #    #   #  #  #   #   # #  ##  
#   #   #    #      #  # #    #    #  #   #  #   #   #  #  # #  #     #    # #  #  # #   #  #   #  #   # #  #   
### ### #    #       ##  #    #     ##  ##  ###  #  ###  ##  #  #     ### #   #  ##  ###  ##  ##  ###   #   ### 

################################################################################################################
	
	focus = {
		id = SOV_the_left_opposition
		icon = GFX_focus_fra_loyalty_trotzky
		prerequisite = { focus = SOV_the_path_of_marxism_leninism }
		mutually_exclusive = {  focus = SOV_the_centre }
		x =-9
		y = 1
		relative_position_id = SOV_the_path_of_marxism_leninism
		cost = 5

		available = {
			always = no
			custom_trigger_tooltip = {
				tooltip = SOV_no_major_purge_tt		
				check_variable = { SOV_great_purge_counter < 1 }
			}
		}
		offset = {
			trigger = {
				has_country_flag = picked_trotsky
			}
			x = 4
		}
		allow_branch = {
			always = no
			not = {has_country_flag = picked_stalin}
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			set_country_flag = picked_trotsky
			mark_focus_tree_layout_dirty = yes
			add_political_power = 75
			SOV_paranoia_medium_increase_effect = yes  
			custom_effect_tooltip = SOV_the_left_opposition_tt
			hidden_effect = {
				add_dynamic_modifier = { modifier = SOV_factionalism_modifier }
				country_event = {
					id = NSB_soviet_paranoia_system_events.01
					hours = 6 
					random_hours = 24
				}
			}
			add_stability = -0.1
		}
	}

	focus = {
		id = SOV_the_fourth_international 
		icon = GFX_goal_support_fourth_int
		prerequisite = { focus = SOV_the_left_opposition }
		x = -4
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 5

		bypass = { has_global_flag = SOV_soviet_civil_war }

		available = {
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_civil_war_points= 1 }
			add_political_power = 120
			SOV_paranoia_low_increase_effect = yes

			news_event = { id = nsb_news.200 hours = 2 random_hours = 2 }			
		}
	}

	focus = {
		id = SOV_bring_old_trotskyists_back 
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = SOV_the_left_opposition }
		x = -2 
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 5
		bypass = {
			custom_trigger_tooltip = {
				tooltip = SOV_bring_old_trotskyists_back_trigger_tt
				NOT = { has_character = SOV_karl_radek }
				NOT = { has_character = SOV_yevgeny_preobrazhensky }
			}
		}

		available = {
			
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_civil_war_points= 1 }
			custom_effect_tooltip = SOV_bring_old_trotskyists_back_effect_tt #Radek and Preobrazhensky already set as algined to left oppo
			SOV_paranoia_low_increase_effect = yes 
		}
	}

	

	focus = {
		id = SOV_integrate_smirnovs_bloc
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = SOV_the_left_opposition }
		x = 0
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 5

		available = {
		}

		bypass = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_civil_war_points= 1 }
			if = { limit = { has_idea = SOV_genrikh_yagoda } remove_ideas = SOV_genrikh_yagoda }
			add_ideas = SOV_nikolay_yezhov
			SOV_paranoia_medium_increase_effect = yes 
			add_political_power = 50
			custom_effect_tooltip = SOV_integrate_smirnovs_bloc_tt
			hidden_effect = {
				#Liberate and exile advisors
				SOV_ivan_smirnov = { #Already set as algined to left oppo
					clr_character_flag = SOV_imprisoned_flag
					set_character_flag = SOV_exiled_flag
					set_portraits = {
						army = {
							small = "GFX_idea_SOV_ivan_smirnov"
						}
					}
				}
				SOV_ivar_smilga = { #Already set as algined to left oppo
					clr_character_flag = SOV_imprisoned_flag
					set_character_flag = SOV_exiled_flag
					set_portraits = {
						army = {
							small = "GFX_idea_SOV_ivar_smilga"
						}
					}
				}
				SOV_aleksandr_shlyapnikov = { #Already set as algined to left oppo
					clr_character_flag = SOV_imprisoned_flag
					set_character_flag = SOV_exiled_flag
					set_portraits = {
						army = {
							small = "GFX_idea_SOV_aleksandr_shlyapnikov"
						}
					}
				}

				# Add support in armed forces
				add_to_variable = { SOV_left_opposition_army_support = 0.05 }
				add_to_variable = { SOV_left_opposition_navy_support = 0.05 } 
				add_to_variable = { SOV_left_opposition_air_support = 0.05 }
				# Set a few states to join 
				random_owned_state = {
					limit = { 
						OR = {
							state = 399
							state = 398
							state = 400
							state = 406 
							state = 402
							state = 407
						}
						#NOT = { has_state_flag = SOV_left_opposition_state }
						#NOT = { has_state_flag = SOV_right_opposition_state }
						#NOT = { has_state_flag = SOV_stalinist_state }
					}
					# set_state_flag = SOV_left_opposition_state 
					set_state_flag = SOV_opposition_partisans_flag 
				}
				random_owned_state = {
					limit = { 
						OR = {
							state = 399
							state = 398
							state = 400
							state = 406 
							state = 402
							state = 407
						}
						#NOT = { has_state_flag = SOV_left_opposition_state }
						#NOT = { has_state_flag = SOV_right_opposition_state }
						#NOT = { has_state_flag = SOV_stalinist_state }
					}
					#set_state_flag = SOV_left_opposition_state 
					set_state_flag = SOV_opposition_partisans_flag 
				}
			}
		}
	}


	focus = {
		id = SOV_committee_in_exile
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = SOV_the_fourth_international }
		prerequisite = { focus = SOV_bring_old_trotskyists_back }
		x = 1
		y = 1
		relative_position_id = SOV_the_fourth_international
		cost = 5

		available = {
		}
		bypass = { 
		}
		
		search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			add_to_variable = { SOV_civil_war_points= 1 }
			custom_effect_tooltip = SOV_committee_in_exile_tt
		}
	}
	focus = {
		id = SOV_the_permanent_revolution
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_left_opposition_coup }
		x = 1
		y = 2
		relative_position_id = SOV_committee_in_exile
		mutually_exclusive = {focus = SOV_long_live_the_workers_government focus = SOV_return_democracy_to_the_party}
		cost = 5

		available = {
		}
		
		search_filters = {}

		completion_reward = {

			IF = {
				limit = {
					SOV_lev_trotsky = { is_country_leader = yes }
				}
				swap_ruler_traits = { remove = permanent_revolutionary add = triumphant_revolutionary }
			}
			ELSE = {
				effect_tooltip = {
					custom_effect_tooltip = SOV_the_permanent_revolution_trotsky_trait_tt
					add_trait = {
						character = SOV_lev_trotsky
						slot = country_leader
						trait = triumphant_revolutionary
					}
				}
			}
		}
	}
	focus = {
		id = SOV_approach_tukhachevsky
		icon = GFX_focus_SOV_approach_tukahchevsky
		prerequisite = { focus = SOV_integrate_smirnovs_bloc }
		x = -1
		y = 1
		relative_position_id = SOV_integrate_smirnovs_bloc
		cost = 5

		available = {
			SOV_soviet_civil_war_not_started = yes

		}
		bypass = {
		}
		
		search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_civil_war_points= 2 }
			SOV_paranoia_low_increase_effect = yes
			custom_effect_tooltip = SOV_approach_tukhachevsky_tt
			hidden_effect = {
				SOV_mikhail_tukhachevsky = {
					add_unit_leader_trait = trait_SOV_trotskyist
					remove_unit_leader_trait = trait_SOV_stalinist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				random_unit_leader = {
					limit = {
						NOT = { has_trait = trait_SOV_trotskyist }
						NOT = { has_trait = trait_SOV_stalinist }
						NOT = { has_trait = trait_SOV_bukharinist }
						NOT = { has_trait = trait_SOV_monarchist_sympathizer }
					}
					add_unit_leader_trait = trait_SOV_trotskyist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				random_unit_leader = {
					limit = {
						NOT = { has_trait = trait_SOV_trotskyist }
						NOT = { has_trait = trait_SOV_stalinist }
						NOT = { has_trait = trait_SOV_bukharinist }
						NOT = { has_trait = trait_SOV_monarchist_sympathizer }
					}
					add_unit_leader_trait = trait_SOV_trotskyist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				random_unit_leader = {
					limit = {
						NOT = { has_trait = trait_SOV_trotskyist }
						NOT = { has_trait = trait_SOV_stalinist }
						NOT = { has_trait = trait_SOV_bukharinist }
						NOT = { has_trait = trait_SOV_monarchist_sympathizer }
					}
					add_unit_leader_trait = trait_SOV_trotskyist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				# Add support in armed forces
				add_to_variable = { SOV_left_opposition_army_support = 0.07 }
				add_to_variable = { SOV_left_opposition_navy_support = 0.05 } 
				add_to_variable = { SOV_left_opposition_air_support = 0.05 }
				# add another state for Partisans
				random_owned_state = {
					limit = { 
						OR = {
							state = 236
							state = 406
							state = 407
							state = 249 
							state = 250
							state = 401
							state = 194
							state = 201
							state = 204
							state = 206
						}
						NOT = { has_state_flag = SOV_left_opposition_state }
						NOT = { has_state_flag = SOV_right_opposition_state }
						NOT = { has_state_flag = SOV_stalinist_state }
						NOT = { has_state_flag = SOV_opposition_partisans_flag }
					}
					set_state_flag = SOV_opposition_partisans_flag
				}
				SOV_get_centre_military_support = yes 
			}

		}
	}

	focus = {
		id = SOV_approach_primakov
		icon = GFX_focus_SOV_approach_primakov
		prerequisite = { focus = SOV_integrate_smirnovs_bloc }
		x = 1
		y = 1
		relative_position_id = SOV_integrate_smirnovs_bloc
		cost = 5

		available = {
			SOV_soviet_civil_war_not_started = yes 
		}
		bypass = {
		}
		
		search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_civil_war_points= 2 }
			SOV_paranoia_low_increase_effect = yes
			custom_effect_tooltip = SOV_approach_primakov_tt
			hidden_effect = {
				SOV_vitaly_primakov = {
					add_unit_leader_trait = trait_SOV_trotskyist
					remove_unit_leader_trait = trait_SOV_stalinist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				random_unit_leader = {
					limit = {
						NOT = { has_trait = trait_SOV_trotskyist }
						NOT = { has_trait = trait_SOV_stalinist }
						NOT = { has_trait = trait_SOV_bukharinist }
						NOT = { has_trait = trait_SOV_monarchist_sympathizer }
					}
					add_unit_leader_trait = trait_SOV_trotskyist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				random_unit_leader = {
					limit = {
						NOT = { has_trait = trait_SOV_trotskyist }
						NOT = { has_trait = trait_SOV_stalinist }
						NOT = { has_trait = trait_SOV_bukharinist }
						NOT = { has_trait = trait_SOV_monarchist_sympathizer }
					}
					add_unit_leader_trait = trait_SOV_trotskyist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				
				# Add support in armed forces
				add_to_variable = { SOV_left_opposition_army_support = 0.08 }
				add_to_variable = { SOV_left_opposition_navy_support = 0.05 } 
				add_to_variable = { SOV_left_opposition_air_support = 0.1 }
				# add another state for partisans
				random_owned_state = {
					limit = { 
						OR = {
							state = 234
							state = 227
							state = 235
							state = 238 
							state = 237
						}
						NOT = { has_state_flag = SOV_left_opposition_state }
						NOT = { has_state_flag = SOV_right_opposition_state }
						NOT = { has_state_flag = SOV_stalinist_state }
						NOT = { has_state_flag = SOV_opposition_partisans_flag }
					}
					set_state_flag = SOV_opposition_partisans_flag 
				}
				SOV_get_centre_military_support = yes 
			}

		}
	}

	focus = {
		id = SOV_left_opposition_coup
		icon = GFX_focus_spr_masters_of_our_own_fate
		prerequisite = { focus = SOV_approach_tukhachevsky focus = SOV_approach_primakov  focus = SOV_committee_in_exile focus = SOV_infiltrate_the_nkvd focus = SOV_cooperation_against_stalin focus = SOV_military_support focus = SOV_integrate_smirnovs_bloc}

		x = 1
		y = 1
		relative_position_id = SOV_approach_tukhachevsky
		cost = 5

		available = {
		}
		bypass = {

		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}	
		}
		search_filters = {}

		completion_reward = {
			sov_begin_civil_war = yes
						# Return Trotsky from Mexico
			set_global_flag = flag_trotsky_returning_to_ussr_from_mexico
			SOV_promote_to_country_leader_trotsky = yes	
			MEX = { country_event = { id = mexico.22 hours = 1} }	
			custom_effect_tooltip = SOV_trigger_third_moscow_trial_tt
			SOV_remove_paranoia_effect = yes
		}
	}


	focus = {
		id = SOV_long_live_the_workers_government
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = SOV_left_opposition_coup }
	
		x = 0
		y = 1
		relative_position_id = SOV_left_opposition_coup
		cost = 5

		available = {
			has_completed_focus = SOV_cooperation_against_stalin
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_workers_government_idea
				days = 365
			}
			add_stability = 0.1
			add_political_power = 100
			
		}
	}
	### someone add a spirit for consumer goods and cap(less than on the other side but still more viable than it is right now)

	focus = {
		id = SOV_the_builder_of_the_red_army
		icon = GFX_focus_SOV_builder_of_the_red_army
		prerequisite = { focus = SOV_the_permanent_revolution }
		x = -1
		y = 1
		relative_position_id = SOV_the_permanent_revolution
		cost = 5

		available = {
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			army_experience = 50
			add_field_marshal_role = {
				character = SOV_lev_trotsky
				traits = { media_personality organisational_leader ranger panzer_leader organizer trickster}
				skill = 4
				attack_skill = 7
				defense_skill = 1
				planning_skill = 4
				logistics_skill = 4
			}
			
		}
	}

	focus = {
		id = SOV_reigniting_the_revolutionary_spirit
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_the_permanent_revolution }
		x = 1
		y = 1
		relative_position_id = SOV_the_permanent_revolution
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_revolutionary_spirit_idea
				days = 25
			}
		}
	}
#


	focus = {
		id = SOV_depoliticize_the_military
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = SOV_the_builder_of_the_red_army focus = SOV_reigniting_the_revolutionary_spirit }
		x = -1
		y = 1
		relative_position_id = SOV_the_builder_of_the_red_army
		
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { SOV_the_red_army_max_command_power_mult = 0.1 }
			custom_effect_tooltip = SOV_depoliticize_the_military_ns_tt

			army_experience = 150

			if = {
				limit = {
					has_idea = SOV_politicized_military
				}
				remove_ideas = SOV_politicized_military
			}
			else_if = {
				limit = {
					has_idea = SOV_politicized_military_keep
				}
				remove_ideas = SOV_politicized_military_keep
			}
			else_if = {
				limit = {
					has_idea = SOV_politicized_military_swap
				}
				remove_ideas = SOV_politicized_military_swap
			}			
		}
	}

	focus = {
		id = SOV_system_decentralization
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_the_builder_of_the_red_army focus = SOV_reigniting_the_revolutionary_spirit }
		x = 1
		y = 1
		relative_position_id = SOV_the_builder_of_the_red_army
		
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_popularity = {
				ideology = communism 
				popularity = 0.1
			}
			add_ideas = SOV_system_decentralization_idea
		}
	}

	focus = {
		id = SOV_strengthen_heavy_industry 
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_the_builder_of_the_red_army focus = SOV_reigniting_the_revolutionary_spirit }
		x = 0
		y = 2
		relative_position_id = SOV_the_builder_of_the_red_army
		
		cost = 5

		available = {
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_strengthen_heavy_industry
				ahead_reduction = 1
				uses = 2
				category = infantry_weapons 
			}
			random_owned_controlled_state = {
				prioritize = { 252 254 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 256 239 260 }
				limit = {
					free_building_slots = {
						building = industrial_complex 
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex 
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 195 214 213 408 137 }
				limit = {
					free_building_slots = {
						building = dockyard  
						size > 1
						include_locked = yes
					}
					is_coastal = yes 
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard  
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SOV_all_power_to_the_soviets
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_long_live_the_workers_government focus = SOV_return_democracy_to_the_party}
		x = 1
		y = 1
		relative_position_id = SOV_long_live_the_workers_government
		
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_ideas = SOV_the_local_soviets_idea
		}
	}

	focus = {
		id = SOV_regional_development
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_all_power_to_the_soviets }
		prerequisite = { focus = SOV_long_live_the_workers_government }
		x = -1
		y = 1
		relative_position_id = SOV_all_power_to_the_soviets
		offset = {
			x = 0
			y = 0
			trigger = {
				NOT = { has_dlc = "No Step Back"}
			}
		}
		
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_political_power = 150 
			every_owned_state = {
				limit = {
					OR = {
						state = 202 # Kiev
						state = 229 # Azerbaijan
						state = 230 # Armenia
						state = 231 # Georgia
						state = 405 # tashkent
						state = 408 # Vladivostok
						state = 584 # Askabad
						state = 586 # Alma Ata
						state = 654 # Oyrot
						state = 732 # Pamir
						state = 743 # Dushanbe
						state = 206 # minsk
					}
					free_building_slots = {
					    building = industrial_complex 
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
			}
		}
	}

	focus = {
		id = SOV_autonomous_soviet_republics
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = SOV_regional_development }
		x = 0
		y = 1
		relative_position_id = SOV_regional_development
		
		cost = 5

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			405 = {
				add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
			584 = {
				add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
			586 = {
				add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
			}
		}
	}


	focus = {
		id = SOV_international_union_of_soviet_republics
		icon = GFX_focus_SOV_international_union_of_soviet_republics
		prerequisite = { focus = SOV_autonomous_soviet_republics }
		x = 0
		y = 1
		relative_position_id = SOV_autonomous_soviet_republics 
		
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_to_variable = { SOV_factionalism_overlord_trade_cost_factor = -0.10 } 
			add_to_variable = { SOV_factionalism_popularity_stability_cost_factor = 0.10 } 
			custom_effect_tooltip = SOV_international_union_of_soviet_republics_tt 
			every_country = {
				limit = { is_subject_of = ROOT }
				add_ideas = { SOV_puppet_international_of_soviet_republics_idea }
				custom_effect_tooltip = SOV_international_union_of_soviet_republics_puppet_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { is_capital = yes }
						add_building_construction = {
						    type = industrial_complex
							level = 10
							instant_build = yes
						}
						add_building_construction = {
						    type = arms_factory
							level = 10
							instant_build = yes
						}
					}
				}
			}
		}
	}


###  ###  ##  #  # ###     #   ### ### ###      ##  ###  ###   ##   ## ### ### ###  ##  #  #      ##   ##  #   # #   #  ##  #  # 
#  #  #  #    #  #  #      #   #   #    #      #  # #  # #  # #  # #    #   #   #  #  # ## #     #  # #  # ## ## ## ## #  # ## # 
###   #  # ## ####  #      #   ##  ##   #      #  # ###  ###  #  #  #   #   #   #  #  # # ##     #    #  # # # # # # # #  # # ## 
#  #  #  #  # #  #  #      #   #   #    #      #  # #    #    #  #   #  #   #   #  #  # #  #     #  # #  # #   # #   # #  # #  # 
#  # ###  ##  #  #  #      ### ### #    #       ##  #    #     ##  ##  ###  #  ###  ##  #  #      ##   ##  #   # #   #  ##  #  # 

################################################################################################################################

	focus = {
		id = SOV_military_support
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SOV_gain_support_from_party_members  } 
		x = 1
		y = 1
		relative_position_id = SOV_gain_support_from_party_members
		cost = 5
		available = {
			SOV_soviet_civil_war_not_started = yes 
		}

		                
		search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			
			add_to_variable = { SOV_civil_war_points= 1 }
			SOV_paranoia_medium_increase_effect = yes
			army_experience = 100
			custom_effect_tooltip = SOV_military_support_tt 
			hidden_effect = {
				IF = {
					limit = {
						SOV_is_left_opposition = yes 
					}
					add_to_variable = { SOV_left_opposition_army_support = 0.07}
					clamp_variable = {
						var = SOV.SOV_left_opposition_army_support
						max = 0.9
						min = 0.1
					}
				}
				ELSE_IF = {
					limit = {
						SOV_is_right_opposition = yes
					}
					add_to_variable = { SOV_right_opposition_army_support = 0.05 }
					clamp_variable = {
						var = SOV.SOV_right_opposition_army_support
						max = 0.9
						min = 0.1
					}
				}
				SOV_get_centre_military_support = yes 

				IF = { #Align a valid Field Marshal, if possible
					limit = {
						any_army_leader = {
							is_field_marshal = yes
							NOT = { is_character = SOV_mikhail_tukhachevsky } #Has his own focus in the left oppo, probably wouldn't go with the right oppo straight away
							NOT = { has_trait = trait_SOV_stalinist }
							NOT = { has_trait = trait_SOV_bukharinist }
							NOT = { has_trait = trait_SOV_trotskyist }
							NOT = { has_trait = trait_SOV_monarchist_sympathizer }
						}
					}
					random_army_leader = {
						limit = {
							is_field_marshal = yes
							NOT = { is_character = SOV_mikhail_tukhachevsky } #Has his own focus in the left oppo, probably wouldn't go with the right oppo straight away
							NOT = { has_trait = trait_SOV_stalinist }
							NOT = { has_trait = trait_SOV_bukharinist }
							NOT = { has_trait = trait_SOV_trotskyist }
							NOT = { has_trait = trait_SOV_monarchist_sympathizer }
						}
						IF = {
							limit = {
								SOV_is_left_opposition = yes 
							}
							add_unit_leader_trait = trait_SOV_trotskyist
							set_character_flag = SOV_aligned_left_opposition_flag
						}
						ELSE_IF = {
							limit = {
								SOV_is_right_opposition = yes
							}
							add_unit_leader_trait = trait_SOV_bukharinist
							set_character_flag = SOV_aligned_right_opposition_flag
						}
					}
				}
				ELSE = {
					random_army_leader = {
						limit = {
							NOT = { is_character = SOV_mikhail_tukhachevsky } #Has his own focus in the left oppo, probably wouldn't go with the right oppo straight away
							NOT = { is_character = SOV_vitaly_primakov } #Has his own focus in the left oppo, probably wouldn't go with the right oppo straight away
							NOT = { has_trait = trait_SOV_stalinist }
							NOT = { has_trait = trait_SOV_bukharinist }
							NOT = { has_trait = trait_SOV_trotskyist }
							NOT = { has_trait = trait_SOV_monarchist_sympathizer }
							
						}
						IF = {
							limit = {
								SOV_is_left_opposition = yes 
							}
							add_unit_leader_trait = trait_SOV_trotskyist
							set_character_flag = SOV_aligned_left_opposition_flag
						}
						ELSE_IF = {
							limit = {
								SOV_is_right_opposition = yes
							}
							add_unit_leader_trait = trait_SOV_bukharinist
							set_character_flag = SOV_aligned_right_opposition_flag
						}
					}
				}
			}
		}
	}


	focus = {
		id = SOV_gain_support_from_party_members
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_the_left_opposition  } 
		x = 4
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 5
		available = {
			add_to_variable = { SOV_civil_war_points= 1 }
			SOV_soviet_civil_war_not_started = yes 
		}
		                
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SOV_POLITICAL_PARANOIA FOCUS_FILTER_STABILITY}

		completion_reward = {
			SOV_paranoia_low_increase_effect = yes 
			add_political_power = 150
			custom_effect_tooltip = SOV_gain_support_from_party_members_tt
			
			hidden_effect = {
				if = {
					limit = {
						SOV_is_left_opposition = yes 
					}
					SOV_mikhail_kalinin = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_safe_from_purge_flag
					}
					SOV_vsevolod_merkulov = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_safe_from_purge_flag
					}
					SOV_nikita_khrushchyov = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_safe_from_purge_flag
					}
				}
			}
		}
	}

	focus = {
		id = SOV_infiltrate_the_nkvd
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = SOV_the_left_opposition  } 
		x = 2
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 5
		available = {
			SOV_soviet_civil_war_not_started = yes 
		}
		                
		search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			
			add_to_variable = { SOV_civil_war_points= 1 }
			SOV_paranoia_low_decrease_effect = yes 
			add_political_power = 150
		}
	}

	focus = {
		id = SOV_cooperation_against_stalin
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SOV_gain_support_from_party_members }
		x = -1
		y = 1
		relative_position_id = SOV_gain_support_from_party_members
		cost = 5
		available = {
			SOV_soviet_civil_war_not_started = yes 
		}
		                
		search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_to_variable = { SOV_civil_war_points= 1 }
			SOV_paranoia_medium_increase_effect = yes 
			IF = {
				limit = {
					SOV_is_left_opposition = yes 
				}
				custom_effect_tooltip = SOV_cooperation_against_stalin_left_tt
				hidden_effect = {
					SOV_nikolay_bukharin = {
						set_character_flag = SOV_aligned_left_opposition_flag
					}
					SOV_aleksey_rykov = {
						set_character_flag = SOV_aligned_left_opposition_flag
					}
				}
			}
			ELSE = {
				custom_effect_tooltip = SOV_cooperation_against_stalin_other_tt
			}
			# Modify Factionalism - change tooltip if changing values!!!
			custom_effect_tooltip = SOV_cooperation_against_stalin_factionalism_tt 
			add_to_variable = { SOV_factionalism_political_advisor_cost_factor = -0.15 }
			add_to_variable = { SOV_factionalism_political_power_factor = -0.05 }
			add_to_variable = { SOV_factionalism_popularity_stability_cost_factor = -0.1 }
		}
	}


	focus = {
		id = SOV_return_democracy_to_the_party
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = SOV_left_opposition_coup }
		x = 2
		y = 1
		relative_position_id = SOV_left_opposition_coup
		cost = 10
		available = {
			has_completed_focus = SOV_cooperation_against_stalin
		}
		                
		search_filters = {}

		completion_reward = {
			# Modify Factionalism - change tooltip if changing values!!!
			custom_effect_tooltip = SOV_return_democracy_to_the_party_factionalism_tt
			add_to_variable = { SOV_factionalism_political_power_factor = -0.05 }
							if = {
					limit = {
						SOV_is_left_opposition = yes 
					}
					SOV_martemyan_ryutin = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_imprisoned_flag
						set_character_flag = SOV_exiled_flag
						set_portraits = {
							army = {
								small = "GFX_idea_SOV_martemyan_ryutin"
							}
						}
					}
					SOV_grigory_zinovyev = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_imprisoned_flag
						set_character_flag = SOV_exiled_flag
						set_portraits = {
							army = {
								small = "GFX_idea_SOV_grigory_zinovyev"
							}
						}
					}
					SOV_lev_kamenev = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_imprisoned_flag
						set_character_flag = SOV_exiled_flag
						set_portraits = {
							army = {
								small = "GFX_idea_SOV_lev_kamenev"
							}
						}
					}
				}
			IF = {
				limit = { SOV_is_left_opposition = yes }
				custom_effect_tooltip = SOV_return_democracy_to_the_party_unlock_right_tt 
			}
			ELSE = {
				custom_effect_tooltip = SOV_return_democracy_to_the_party_unlock_left_tt
			}
			if = {
				limit = {
					SOV_ivan_smirnov = {
						NOT = { has_character_flag = SOV_character_purged_flag }
						has_character_flag = SOV_imprisoned_flag	
					}
				}
				SOV_ivan_smirnov = { clr_character_flag = SOV_imprisoned_flag }
			}

			if = {
				limit = {
					SOV_ivar_smilga = {
						NOT = { has_character_flag = SOV_character_purged_flag }
						has_character_flag = SOV_imprisoned_flag	
					}
				}
				SOV_ivar_smilga = { clr_character_flag = SOV_imprisoned_flag }
			}

			if = {
				limit = {
					SOV_aleksandr_shlyapnikov = {
						NOT = { has_character_flag = SOV_character_purged_flag }
						has_character_flag = SOV_imprisoned_flag	
					}
				}
				SOV_aleksandr_shlyapnikov = {  clr_character_flag = SOV_imprisoned_flag }
			}
			hidden_effect = {
				set_portraits = {
					character = SOV_ivan_smirnov
					army = {
						small = "GFX_idea_SOV_ivan_smirnov"
					}
				}
				set_portraits = {
					character = SOV_ivar_smilga
					army = {
						small = "GFX_idea_SOV_ivar_smilga"
					}
				}
				set_portraits = {
					character = SOV_aleksandr_shlyapnikov
					army = {
						small = "GFX_idea_SOV_aleksandr_shlyapnikov"
					}
				}
				IF = {
					limit = { SOV_is_right_opposition = yes }
					every_character = {
						limit = {
							has_character_flag = SOV_exiled_flag
							has_character_flag = SOV_aligned_left_opposition_flag
						}
						clr_character_flag = SOV_exiled_flag
					}
				}
				ELSE_IF = {
					limit = { SOV_is_left_opposition = yes }
					every_character = {
						limit = {
							has_character_flag = SOV_exiled_flag
							has_character_flag = SOV_aligned_right_opposition_flag
						}
						clr_character_flag = SOV_exiled_flag
					}
				}
			}
		}
	}

	focus = {
		id = SOV_strengthen_the_trade_unions
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SOV_return_democracy_to_the_party }
		prerequisite = { focus = SOV_all_power_to_the_soviets }
		x = 0
		y = 2
		relative_position_id = SOV_return_democracy_to_the_party
		cost = 1

		available = {

		}
		                
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_political_power = 70
			add_popularity = {
				ideology = communism 
				popularity = 0.05
			}
			add_ideas = SOV_strong_trade_unions_idea
			
		}
	}

	focus = {
		id = SOV_the_peoples_revolution
		icon = GFX_focus_por_workers_of_iberia
		prerequisite = { focus = SOV_strengthen_the_trade_unions }
		x = 0
		y = 1
		relative_position_id = SOV_strengthen_the_trade_unions
		cost = 1
		available = {
		}
		                
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_popularity = {
				ideology = communism 
				popularity = 0.1
			}
			add_ideas = SOV_the_peoples_revolution_idea
		}
	}

	focus = {
		id = SOV_the_supreme_soviet
		icon = GFX_focus_SOV_the_supreme_soviet
		prerequisite = { focus = SOV_the_peoples_revolution }
		x = 0
		y = 1
		relative_position_id = SOV_the_peoples_revolution
		cost = 1
		available = {
			has_government = communism
		}
		                
		search_filters = {FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_country_leader_role = {
				character = "SOV_supreme_soviet"
				country_leader = {
					ideology = marxism
					traits = { strong_party_discipline triumphant_revolutionary}
					expire = "1965.3.1.1"
				}
				promote_leader = yes 
			}
		}
	}
	

######################################################################################################################################

#### ##    ## ######## ######## ########  ##    ##    ###    ##             ###    ######## ########    ###    #### ########   ######  
 ##  ###   ##    ##    ##       ##     ## ###   ##   ## ##   ##            ## ##   ##       ##         ## ##    ##  ##     ## ##    ## 
 ##  ####  ##    ##    ##       ##     ## ####  ##  ##   ##  ##           ##   ##  ##       ##        ##   ##   ##  ##     ## ##       
 ##  ## ## ##    ##    ######   ########  ## ## ## ##     ## ##          ##     ## ######   ######   ##     ##  ##  ########   ######  
 ##  ##  ####    ##    ##       ##   ##   ##  #### ######### ##          ######### ##       ##       #########  ##  ##   ##         ## 
 ##  ##   ###    ##    ##       ##    ##  ##   ### ##     ## ##          ##     ## ##       ##       ##     ##  ##  ##    ##  ##    ## 
#### ##    ##    ##    ######## ##     ## ##    ## ##     ## ########    ##     ## ##       ##       ##     ## #### ##     ##  ######  
	


	focus = {
		id = SOV_addressing_internal_affairs
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = SOV_the_path_of_marxism_leninism }
		x = 7
		y = 1

		relative_position_id = SOV_the_path_of_marxism_leninism
		cost = 5
		available = {

		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.1
		}
	}

	focus = {
		id = SOV_nkvd_primacy
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = SOV_the_military_conspiracy }
		x = 1
		y = 1
		relative_position_id = SOV_the_military_conspiracy
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}

		completion_reward = {
			add_ideas = SOV_nkvd_nsb
		}
	}

	focus = {
		id = SOV_the_new_soviet_woman
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_addressing_internal_affairs }
		x = -2
		y = 1
		relative_position_id = SOV_addressing_internal_affairs
		cost = 3

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_political_power = 70
			add_stability = 0.1
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
		}
	}

	focus = {
		id = SOV_expand_the_agitprop
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_addressing_internal_affairs }
		x = 0
		y = 1
		relative_position_id = SOV_addressing_internal_affairs
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_political_power = 25
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}

			hidden_effect = {
				SOV_unlock_propaganda_campaign_slot_effect = yes
			}
			unlock_decision_category_tooltip = SOV_propaganda_campaigns
		}
	}

	focus = {
		id = SOV_positive_heroism
		icon = GFX_focus_SWE_undermine_fascism
		prerequisite = { focus = SOV_expand_the_agitprop }
		x = -2
		y = 1
		relative_position_id = SOV_expand_the_agitprop
		cost = 10

		mutually_exclusive = { focus = SOV_collectivist_propaganda }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_political_power = 25
			add_stability = 0.05
			custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
			SOV_unlock_propaganda_campaign_slot_effect = yes
		}
	}

	focus = {
		id = SOV_revive_the_stakhanovite_movement
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SOV_positive_heroism }
		x = 0
		y = 1
		relative_position_id = SOV_positive_heroism
		cost = 10

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_ideas = SOV_stakhanovite_movement
		}
	}

	focus = {
		id = SOV_war_heroes
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_revive_the_stakhanovite_movement }
		x = 0
		y = 1
		relative_position_id = SOV_revive_the_stakhanovite_movement
		cost = 10

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			add_ideas = SOV_war_heroes_ns

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_patriarch_sergy
		}
	}

	focus = {
		id = SOV_collectivist_propaganda
		icon = GFX_focus_ICE_embrace_the_workers_revolution
		prerequisite = { focus = SOV_expand_the_agitprop }
		x = 2
		y = 1
		relative_position_id = SOV_expand_the_agitprop
		cost = 8

		mutually_exclusive = { focus = SOV_positive_heroism }

		available = {

		}
		
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_political_power = 25
			add_ideas = SOV_collectivist_propaganda_ns

			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_for_the_motherland
			custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
			SOV_unlock_propaganda_campaign_slot_effect = yes
		}
	}

	focus = {
		id = SOV_socialist_emulation
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = 0
		y = 1
		relative_position_id = SOV_collectivist_propaganda
		cost = 12

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = SOV_socialist_emulation_1_ns
		}
	}

	focus = {
		id = SOV_socialist_realism
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = SOV_socialist_emulation }
		x = 0
		y = 1
		relative_position_id = SOV_socialist_emulation
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_socialist_emulation_1_ns
				add_idea = SOV_socialist_emulation_2_ns
			}
		}
	}

	focus = {
		id = SOV_the_komsomol
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = SOV_addressing_internal_affairs }
		x = 2
		y = 0
		relative_position_id = SOV_expand_the_agitprop
		cost = 5

		available = {

		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_political_power = 50
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}

			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_knowledge
			unlock_decision_tooltip = SOV_propaganda_builders_of_communism
			unlock_decision_tooltip = SOV_propaganda_sweep_scum_out
			custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
			SOV_unlock_propaganda_campaign_slot_effect = yes
		}
	}



########  #######  ########  ######## ####  ######   ##    ##     ######   #######  ##     ## ##     ## #### ######## 
##       ##     ## ##     ## ##        ##  ##    ##  ###   ##    ##    ## ##     ## ###   ### ###   ###  ##  ##       
##       ##     ## ##     ## ##        ##  ##        ####  ##    ##       ##     ## #### #### #### ####  ##  ##       
######   ##     ## ########  ######    ##  ##   #### ## ## ##    ##       ##     ## ## ### ## ## ### ##  ##  ######   
##       ##     ## ##   ##   ##        ##  ##    ##  ##  ####    ##       ##     ## ##     ## ##     ##  ##  ##       
##       ##     ## ##    ##  ##        ##  ##    ##  ##   ###    ##    ## ##     ## ##     ## ##     ##  ##  ##       
##        #######  ##     ## ######## ####  ######   ##    ##     ######   #######  ##     ## ##     ## #### ######## 



	focus = {
		id = SOV_development_aid_for_eastern_allies
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SOV_expand_the_agitprop }
		x = 0
		y = 2
		relative_position_id = SOV_expand_the_agitprop
		cost = 3

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}

		available = {
			MON = {
				is_ai = no
			}
			date > 1938.1.1
		}
		
		search_filters = {}

		completion_reward = {
			330 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
			}

		}
	}

	focus = {
		id = SOV_war_measures_in_the_east
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = SOV_development_aid_for_eastern_allies }
		x = 0
		y = 1
		relative_position_id = SOV_development_aid_for_eastern_allies
		cost = 2

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}	
		}

		available = {
			is_subject = no
		}
		
		search_filters = {}

		completion_reward = {
			330 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
		}
	}

}